{"version":3,"sources":["schemas.js","types.js","actions/postActions.js","actions/userActions.js","images/image-placeholder.svg","images/link-post.svg","images/reddit-default.svg","webpack:///./src/images/down-arrow.svg?0968","webpack:///./src/images/up-arrow.svg?3f43","components/Post.jsx","components/Login.jsx","components/Signup.jsx","components/Home.jsx","images/magnifying-glass.svg","images/Triangle.svg","components/Navbar.jsx","components/NewPost.jsx","actions/commentActions.js","images/down-arrow.svg","images/edit.svg","images/up-arrow.svg","components/Comment.jsx","components/PostModal.jsx","App.js","reducers/reducer.js","index.js","store/store.js","localStorage.js"],"names":["comment","schema","Entity","idAttribute","define","comments","post","REQUEST_POSTS","RECEIVE_POSTS","RECEIVE_SINGLE_POSTS","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_ERROR","CURRENT_USER","POST_CREATION_CHANGE_SUBMISSION_TYPE","NEW_POST_SUCCESS","NEW_POST_REQUEST","NEW_COMMENT_SUCCESS","NEW_REPLY_REQUEST","NEW_REPLY_SUCCESS","VOTE_CAST","NEXT_PAGE","PREV_PAGE","DELETE_POST","EDIT_POST","LOG_OUT","CLEAR_ERROR","SET_POST_MODAL","SPLICED_POST","REFRESH_USER","UNAUTHORIZED_ERROR","SORT_POSTS","CLEAR_LOGIN_MODAL","REQUEST_USER_INFO","DARK_MODE_ENABLED","DARK_MODE_DISABLED","requestPosts","e","type","changePostSubmissionType","postType","dispatch","getState","currentValue","changeNewSubmissionType","submissionType","changePoint","point","postId","currentPostId","currentVoteState","posts","byId","voteState","axios","url","method","withCredentials","submitPost","form","data","then","res","status","id","_id","submitPostSuccess","getNormalizeData","myData","params","normalize","fetchPosts","query","sort","normalizedData","offset","nextPage","Promise","resolve","fetchSinglePost","retryCount","logOut","localStorage","removeItem","login","username","password","loginSuccess","jwt_token","token","setItem","catch","signup","passwordConfirm","err","passwordError","error","response","interceptors","request","use","config","accessToken","getItem","headers","originalRequest","_retry","reject","defaults","common","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","d","SvgDownArrow","_ref","svgRef","title","titleId","props","width","height","viewBox","ref","undefined","ForwardRef","SvgUpArrow","Post","useState","deleteButton","setDelete","setActive","useParams","useDispatch","postStore","useSelector","state","allIds","checkDisplay","display","currentUser","postStatus","listings","confirmedDelete","deletePost","className","author","onClick","to","pathname","modal","alt","voteTotal","Login","setUsername","setPassword","isLoggedIn","handleLogin","x","window","location","reload","close","onChange","value","placeholder","onKeyDown","Signup","setPasswordConfirm","user","useEffect","Home","postsToDisplay","allPosts","useLocation","loggedIn","listingOrder","sortOrder","currentIds","queryParams","history","search","offSetId","after","URLSearchParams","get","before","map","bottomRef","useCallback","node","shouldFetch","observer","IntersectionObserver","entries","intersectionRatio","disconnect","observe","threshold","splitUrl","split","listing","handlePostType","handleShowLogin","showSignup","src","defaultPic","imagePost","linkPost","pastParams","match","withRouter","dropdown","setDropDown","searchInput","setSearchInput","searchContent","setSearchContent","searchActive","setSearchActive","currentModal","flattened","handleDarkMode","handleSearchContent","a","trimStart","trimmed","filter","RegExp","test","filtered","handleCloseSearch","closeSearch","document","body","addEventListener","removeEventListener","replace","style","overflow","newPost","path","searchicon","backgroundColor","triangle","handleShowSignup","htmlFor","NewPost","newQuery","newQuery2","useHistory","setTitle","text","setText","imagedata","setImage","submitCheck","submitted","fetchingLogin","fetching","reRouteId","push","replaceState","action","files","name","cols","rows","preventDefault","FormData","append","uploadForm","newComment","content","savedComment","parentId","newCommentSuccess","changeCommentPoint","commentId","currentCommentId","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","SvgEdit","Comment","allComments","replyText","setReplyText","replyToggle","setReplyToggle","nestedComments","marginLeft","marginTop","upvote","downvote","authorName","reply","newReply","connect","ownProps","commentText","setCommentText","edit","setEdit","editText","setEditText","currentPost","handleReroute","saveEdit","date","Date","createdAt","formatDate","Intl","DateTimeFormat","format","stopPropagation","image","showLogin","setLogin","setFetchingLogin","setShowSignup","loggedInStatus","signedUpStatus","isSignedUp","closeModal","handleShowNextPage","lastId","exact","render","props2","combineArrays","arr1","arr2","combined","concat","set","Set","addComment","changePostPoint","handlePostSubmission","submitting","createdPosts","editPostReduce","handlePreviousPage","incomingIds","result","isFetching","entities","handleNextPage","setListings","prev","receievePosts","setPostModal","addCommentEntry","rootReducer","combineReducers","allId","firstId","newObj","splicedArray","filteredPosts","isLoggingIn","isSigningUp","userInfo","store","preloadedState","persistedState","serializedState","JSON","parse","loadState","composeEnhancers","composeWithDevTools","trace","createStore","applyMiddleware","thunkMiddleware","configureStore","createBrowserHistory","ReactDOM","StrictMode","component","App","getElementById"],"mappings":"uPACaA,EAAU,IAAIC,IAAOC,OAChC,WACA,GACA,CAAEC,YAAa,QAEjBH,EAAQI,OAAO,CACbC,SAAU,CAACL,KAEN,IAAMM,EAAO,IAAIL,IAAOC,OAC7B,QACA,CACEG,SAAU,CAACL,IAEb,CAAEG,YAAa,QCdJI,EAAgB,gBAChBC,EAAgB,gBAEhBC,EAAuB,uBACvBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAc,cACdC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eACfC,EACX,uCACWC,EAAmB,mBACnBC,EAAmB,mBAGnBC,EAAsB,sBAEtBC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAY,YACZC,EAAY,YACZC,EAAY,YACZC,EAAc,cACdC,EAAY,YACZC,EAAU,UACVC,EAAc,cAEdC,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eAEfC,EAAqB,qBACrBC,EAAa,aAGbC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAqB,qBCnBlC,SAASC,EAAaC,GACpB,MAAO,CACLC,KAAMlC,EACNiC,KAeG,SAASE,EAAyBC,GACvC,OAAO,SAACC,EAAUC,GAChB,IAAIC,EAAeD,IAAWE,wBAAwBC,eAClDL,IAAaG,GAGfF,EAAS,CACPH,KAAMxB,EACN0B,cAKD,SAASM,EAAYC,EAAOC,GACjC,OAAO,SAACP,EAAUC,GAChB,IAAIO,EAAgBD,EAEhBE,EADcR,IAAWS,MAAMC,KAAKH,GACLI,UAOnC,OANAZ,EAAS,CACPH,KAAMlB,EACN4B,SACAD,QACAG,qBAEY,IAAVH,EACKO,IAAM,CACXC,IAAI,sBAAD,OAAwBN,GAC3BO,OAAQ,MACRC,iBAAiB,KAGN,IAAXV,EACKO,IAAM,CACXC,IAAI,wBAAD,OAA0BN,GAC7BO,OAAQ,MACRC,iBAAiB,SAJrB,GAoBG,SAASC,EAAWC,GACzB,OAAO,SAAClB,GACN,OAAOa,IAAM,CACXC,IAAI,iBACJC,OAAQ,OACRI,KAAMD,EACNF,iBAAiB,IAChBI,MAAK,SAACC,GACY,MAAfA,EAAIC,QACNtB,EAxER,SAA2BtC,GACzB,IAAI6D,EAAK7D,EAAK8D,IAEd,OADA9D,EAAI,SAAc,EACX,SAACsC,GACNA,EAAS,CAAEH,KAAMvB,EAAkBZ,OAAM6D,QAoE5BE,CAAkBJ,EAAIF,WAevC,SAASO,GAAiBC,EAAQC,GAEhC,OADuBC,YAAUF,EAAOjB,MAAO,CAAChD,IA+B3C,SAASoE,GAAWC,EAAOR,EAAIK,EAAQhC,GAC5C,OAAO,SAACI,GACNA,EAASL,EAAaC,IACtBiB,IAAM,CACJC,IAAI,cAAD,OAAgBc,GAAUA,EAAOI,KAAOJ,EAAOI,KAAO,IAAtD,OACDD,EAAK,WAAOA,EAAP,YAAgBR,GAAO,IAE9BR,OAAQ,MACRC,iBAAiB,IAChBI,MAAK,SAACC,GACP,IAAMY,EAAiBP,GACrB,CAAEhB,MAAOW,EAAIF,KAAKT,QAGpBV,EAAS,CACPH,KACE+B,GAAUA,EAAOI,MAAc,UAANpC,EAAgBN,EAAa1B,EACxDqE,iBACAC,OAAQb,EAAIF,KAAKe,OACjBF,KAAMJ,GAAUA,EAAOI,KAAOJ,EAAOI,KAAO,gBAiC7C,SAASG,GAASZ,EAAIK,GAC3B,OAAO,SAAC5B,GAEN,OADAA,EAASL,KACF,IAAIyC,SAAQ,SAACC,GAClBxB,IAAM,CACJC,IAAI,cAAD,OACDc,GAAUA,EAAOI,KAAOJ,EAAOI,KAAO,GADrC,eAEY,GAFZ,kBAEwBT,GAC3BR,OAAQ,MACRC,iBAAiB,IAChBI,MAAK,SAACC,GACP,GAAmB,MAAfA,EAAIC,OAAgB,CACtB,IAAMW,EAAiBP,GACrB,CAAEhB,MAAOW,EAAIF,KAAKT,QAGpBV,EAAS,CACPH,KAAMjB,EACNqD,iBACAC,OAAQb,EAAIF,KAAKe,OACjBF,KAAMJ,EAAOI,KAAOJ,EAAOI,KAAO,YAEpCK,EAAQ,qBASX,SAASC,GAAgBf,GAC9B,OAAO,SAACvB,GAEN,OADAA,EA9HK,CACLH,KDxG+B,wBCsOxBgB,IAAM,CACXC,IAAI,aAAD,OAAeS,GAClBR,OAAQ,MACRC,iBAAiB,IAChBI,MAAK,SAACC,GACP,IAAMY,EAAiBP,GAAiB,CAAEhB,MAAO,CAACW,EAAIF,QACtDnB,EAAS,CAAEiC,iBAAgBpC,KAAMhC,Q,iCCjOnC0E,GAAa,EAwDV,SAASC,KACd,OAAO,SAACxC,GACN,OAAOa,IAAM,CACXC,IAAK,cACLE,iBAAiB,EACjBD,OAAQ,SACPK,MAAK,SAACC,GACP,GAAmB,MAAfA,EAAIC,OAEN,OADAmB,aAAaC,WAAW,eACjBrB,MAUR,SAASsB,GAAMC,EAAUC,GAC9B,OAAO,SAAC7C,GAEN,OADAA,EAnCK,CACLH,KAAM/B,IAmCC+C,IAAM,CACXG,iBAAiB,EACjBD,OAAQ,OACRI,KAAM,CACJyB,SAAUA,EACVC,SAAUA,GAEZ/B,IAAK,eAEJM,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIC,OAGN,OAFAtB,EA3CV,SAAsB4C,EAAUrB,GAC9B,OAAO,SAACvB,GACNA,EAAS,CACPH,KAAM9B,EACN6E,WACArB,OAEFa,QAAQC,QAAQ,YAoCDS,CAAazB,EAAIF,KAAKyB,SAAUvB,EAAIF,KAAKK,MACtCH,EAAIF,KAAK4B,aAIxB3B,MAAK,SAAC4B,GAEL,OADAP,aAAaQ,QAAQ,cAAeD,GAC7B,WAERE,OAAM,WACLlD,EA5BC,CACLH,KAAMR,QAsEH,SAAS8D,GAAOP,EAAUC,EAAUO,GACzC,OAAO,SAACpD,GAEN,OADAA,EAAS,CAAEH,KAAM5B,IACV4C,IAAM,CACXC,IAAK,cACLK,KAAM,CACJyB,WACAC,WACAO,mBAEFrC,OAAQ,SAEPK,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIC,OAEN,OADAtB,EAlBD,CACLH,KAAM3B,IAkBO,YAGVgF,OAAM,SAACG,GACN,IACIC,EADAC,EAAQF,EAAIG,SAASrC,KAErB0B,IAAaO,IACfE,EAAgB,0BAElBtD,EAAS,CAAEH,KAAM1B,EAAcoF,QAAOD,sBArK9CzC,IAAM4C,aAAaC,QAAQC,KAAI,SAACC,GAC9B,IAAMC,EAAcpB,aAAaqB,QAAQ,eAIzC,OAHID,IACFD,EAAOG,QAAP,+BAA4CF,IAEvCD,KAET/C,IAAM4C,aAAaD,SAASG,KAC1B,SAAUH,GACR,OAAOA,KAET,SAAUH,GACR,IAAMW,EAAkBX,EAAIO,OAC5B,GAC2B,MAAxBP,EAAIG,SAASlC,QAA0C,MAAxB+B,EAAIG,SAASlC,QAC5C0C,EAAgBC,UACjB1B,IAAc,IACK,iBAAnBc,EAAIO,OAAO9C,IAmBX,OAAOsB,QAAQ8B,OAAOb,GAjBtBd,IAA0B,EAC1ByB,EAAgBC,QAAS,EACzBpD,IAAM,CACJC,IAAK,eACLC,OAAQ,OACRC,iBAAiB,IAChBI,MAAK,SAACD,GACP,GAAIA,EAAKA,KAMP,OALAsB,aAAaQ,QAAQ,cAAe9B,EAAKA,KAAK4B,WAC9ClC,IAAMsD,SAASJ,QAAQK,OAAvB,cACE,UAAYjD,EAAK4B,UACnBiB,EAAgBD,QAAhB,cACE,UAAY5C,EAAKA,KAAK4B,UACjBlC,IAAMmD,S,YC9CR,OAA0B,8CCA1B,OAA0B,sCCA1B,OAA0B,2C,oBCAzC,SAASK,KAA2Q,OAA9PA,GAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIoB,GAAqB,gBAAoB,IAAK,CAChDrE,GAAI,UACU,gBAAoB,IAAK,CACvCA,GAAI,iBACJsE,UAAW,uCACG,gBAAoB,IAAK,CACvCtE,GAAI,UACJsE,UAAW,qCACG,gBAAoB,IAAK,CACvCtE,GAAI,QACJsE,UAAW,oCACG,gBAAoB,IAAK,CACvCtE,GAAI,kBACJsE,UAAW,kCACG,gBAAoB,OAAQ,CAC1CC,EAAG,uqBACHvE,GAAI,cAGN,SAASwE,GAAaC,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQjB,GAAyBa,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO3B,GAAS,CACtDgC,MAAO,OACPC,OAAQ,OACRC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,QAAkBK,IAAVP,EAAmC,gBAAoB,QAAS,CACzE3E,GAAI4E,GACH,mBAAqBD,EAAqB,gBAAoB,QAAS,CACxE3E,GAAI4E,GACHD,GAAS,KAAMN,IAGpB,IAAIc,GAA0B,aAAiBX,IAChC,IC9Cf,SAAS,KAA2Q,OAA9P,GAAWzB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,gBAAoB,IAAK,CAChDjD,GAAI,UACU,gBAAoB,IAAK,CACvCA,GAAI,iBACJsE,UAAW,uCACG,gBAAoB,IAAK,CACvCtE,GAAI,UACJsE,UAAW,qCACG,gBAAoB,IAAK,CACvCtE,GAAI,QACJsE,UAAW,oCACG,gBAAoB,IAAK,CACvCtE,GAAI,aACJsE,UAAW,4GACG,gBAAoB,OAAQ,CAC1CC,EAAG,uqBACHvE,GAAI,cAGN,SAASoF,GAAWX,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,QAAkBK,IAAVP,EAAmC,gBAAoB,QAAS,CACzE3E,GAAI4E,GACH,cAAgBD,EAAqB,gBAAoB,QAAS,CACnE3E,GAAI4E,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBS,ICkEhCC,IDjEA,ICvCF,SAAC,GAAc,IAAZlJ,EAAW,EAAXA,KAAW,EACSmJ,oBAAS,GADlB,mBAClBC,EADkB,KACJC,EADI,OAEHF,oBAAS,GAAtBG,EAFgB,oBAGnBpF,EAASqF,cACTjH,EAAWkH,cACXC,EAAYC,aAAY,SAACC,GAC7B,OAAOA,EAAM3G,MAAM4G,UAEfC,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAEjBC,EAAcL,aAAY,SAACC,GAAD,OAAWA,EAAMI,YAAYjG,OACvDkG,EAAaN,aAAY,SAACC,GAAD,OAAWA,EAAMM,SAASrG,UAInDsG,EAAkB,SAACrH,GACvBP,EP+FG,SAAoBO,EAAQqB,GACjC,OAAO,SAAC5B,GAMN,OALAA,EAAS,CACPH,KAAMf,EACNyB,SACAqB,OAAQA,GAAkB,YAErBf,IAAM,CACXC,IAAI,eAAD,OAAiBP,GACpBQ,OAAQ,SACRC,iBAAiB,KOzGV6G,CAAWtH,EAAwB,SAAhBqB,EAAOI,KAAkB,KAAOJ,IAC5DoF,GAAU,IAEZ,OAAKG,EAAU,GAIb,mCACE,sBAEEW,UAAS,yBACU,SAAjBP,EAA0B,iBAAmB,GADtC,KAFX,UAME,sBACEO,UAAS,iCACQ,YAAfJ,EAA2B,uBAAyB,IAFxD,UAKE,oBAAGI,UAAW,cAAd,eAAgCpK,EAAKqK,OAAOnF,YAC5C,oBAAIkF,UAAU,aAAd,SACE,cAAC,KAAD,CACEE,QAAS,WACPhI,EAASsC,GAAgB5E,EAAK8D,OAEhCyG,GAAI,CACFC,SAAS,SAAD,OAAWxK,EAAK8D,KACxB6F,MAAO,CACLc,OAAO,IAPb,SAWGzK,EAAKwI,UAGV,sBAAK4B,UAAU,iBAAf,UACE,6BACE,cAAC,GAAD,CACEA,UACqB,IAAnBpK,EAAKkD,UAAL,4BAEwB,SAAjB2G,EAA0B,kBAAoB,IAEvDa,IAAI,OAGR,6BAAK1K,EAAK2K,YACV,6BACE,cAAC,GAAD,CACEP,WACsB,IAApBpK,EAAKkD,UAAL,4BAEwB,SAAjB2G,EAA0B,kBAAoB,IAEvDa,IAAI,aAKXX,IAAgB/J,EAAKqK,OAAOvG,IAC3B,qBAAKsG,UAAU,qBAAf,SACE,sBAAKA,UAAU,mBAAf,UACGhB,EACC,sBAAKgB,UAAU,2BAAf,UACE,8BACE,mBAAGA,UAAU,iBAAb,uBAEF,oBACEE,QAAS,kBAAMJ,EAAgBlK,EAAK8D,MACpCsG,UAAU,oBAFZ,iBAMA,oBAAIA,UAAU,sBAAd,eACA,oBAAIA,UAAU,oBAAd,mBAEA,KACJ,wBAAQE,QAjFC,WACnBjB,GAAWD,IAgF8BgB,UAAU,gBAAzC,SACE,cAAC,KAAD,CAAYA,UAAU,mBAI1B,OAzECpK,EAAK8D,OALP,0BCsDI8G,GA/ED,SAAClC,GAAW,IAAD,EACSS,mBAAS,IADlB,mBAChBjE,EADgB,KACN2F,EADM,OAES1B,mBAAS,IAFlB,mBAEhBhE,EAFgB,KAEN2F,EAFM,KAGjBxI,EAAWkH,cACXK,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAKjBjE,GAHO6D,aAAY,SAACC,GACxB,OAAOA,EAAM1E,MAAM8F,cAEPrB,aAAY,SAACC,GACzB,OAAOA,EAAM1E,MAAMU,QAEfqF,EAAc,SAAC9I,GACL,UAAVA,EAAEiF,KAA8B,UAAXjF,EAAEC,MACzBG,EAAS2C,GAAMC,EAAUC,IAAWzB,MAAK,SAACuH,GAC9B,UAANA,GACFC,OAAOC,SAASC,aAOxB,OACE,qBAAKhB,UAAU,sBAAf,SACE,sBACEA,UAAS,2BACU,SAAjBP,EAA0B,mBAAqB,IAFnD,UAKE,sBAAKO,UAAU,mCAAf,UACE,mBACEA,UAAS,4BACU,SAAjBP,EAA0B,iBAAmB,IAFjD,mBAOA,wBACES,QAAS5B,EAAM2C,MACfjB,UAAS,8BACU,SAAjBP,EAA0B,iBAAmB,IAHjD,kBASF,sBAAKO,UAAU,wBAAf,UACE,uBACEkB,SAAU,SAACpJ,GACT2I,EAAY3I,EAAE4E,OAAOyE,QAEvBnB,UAAS,sBACU,SAAjBP,EAA0B,kBAAoB,IAEhD2B,YAAY,WACZrJ,KAAK,SAEP,uBACEsJ,UAAWT,EACXM,SAAU,SAACpJ,GACT4I,EAAY5I,EAAE4E,OAAOyE,QAEvBnB,UAAS,sBACU,SAAjBP,EAA0B,kBAAoB,IAEhD2B,YAAY,WACZrJ,KAAK,aACJ,IACH,mBAAGiI,UAAS,eAAZ,SAA+BvE,IAC/B,wBAAQyE,QAASU,EAAaZ,UAAU,eAAxC,6BC+BKsB,GAnGA,SAAChD,GAAW,IAAD,EACQS,mBAAS,IADjB,mBACjBjE,EADiB,KACP2F,EADO,OAEQ1B,mBAAS,IAFjB,mBAEjBhE,EAFiB,KAEP2F,EAFO,OAGsB3B,mBAAS,IAH/B,mBAGjBzD,EAHiB,KAGAiG,EAHA,KAIlB9B,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAEjBxH,EAAWkH,cACXoC,EAAOlC,aAAY,SAACC,GACxB,OAAOA,EAAM1E,MAAM8F,cAEflF,EAAQ6D,aAAY,SAACC,GACzB,OAAOA,EAAMlE,OAAOE,OAEhBC,EAAgB8D,aAAY,SAACC,GACjC,OAAOA,EAAMlE,OAAOG,iBAkBtB,OANIgG,GACFV,OAAOC,SAASC,SAElBS,qBAAU,WACRvJ,ER6GK,CACLH,KAAM5B,MQ7GL,CAAC+B,IAEF,qBAAK8H,UAAU,sBAAf,SACE,sBACEA,UAAS,2BACU,SAAjBP,EAA0B,mBAAqB,IAFnD,UAKE,sBAAKO,UAAU,mCAAf,UACE,mBACEA,UAAS,4BACU,SAAjBP,EAA0B,iBAAmB,IAFjD,qBAOA,wBACES,QAAS5B,EAAM2C,MACfjB,UAAS,8BACU,SAAjBP,EAA0B,iBAAmB,IAHjD,kBASF,sBAAKO,UAAU,wBAAf,UACE,uBACEkB,SAAU,SAACpJ,GACT2I,EAAY3I,EAAE4E,OAAOyE,QAEvBjB,QAtCU,WAClBhI,EAAS,CAAEH,KAAMZ,KAsCT6I,UAAS,sBACU,SAAjBP,EAA0B,kBAAoB,IAEhD2B,YAAY,WACZrJ,KAAK,SAEP,mBAAGiI,UAAS,eAAZ,SAA+BvE,IAC/B,uBACEyF,SAAU,SAACpJ,GACT4I,EAAY5I,EAAE4E,OAAOyE,QAEvBnB,UAAS,sBACU,SAAjBP,EAA0B,kBAAoB,IAEhD2B,YAAY,WACZrJ,KAAK,aAEP,mBAAGiI,UAAS,eAAZ,SAA+BxE,IAC/B,uBACE0F,SAAU,SAACpJ,GACTyJ,EAAmBzJ,EAAE4E,OAAOyE,QAE9BnB,UAAS,sBACU,SAAjBP,EAA0B,kBAAoB,IAEhD2B,YAAY,wBACZrJ,KAAK,aAEP,wBAAQmI,QA1EK,WACnBhI,EAASmD,GAAOP,EAAUC,EAAUO,IAAkBhC,MAAK,SAACC,GAC9C,WAARA,GACD,QAuEgCyG,UAAU,eAAzC,8BCgGK0B,OAlLf,SAAcpD,GACZ,IAsBIqD,EAtBEzJ,EAAWkH,cACXwC,EAAWtC,aAAY,SAACC,GAC5B,OAAOA,EAAM3G,MAAMC,QAEf4G,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAEjBqB,EAAWc,cACXC,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAM1E,MAAM8F,cAC9Cf,EAAaN,aAAY,SAACC,GAAD,OAAWA,EAAM3G,MAAMY,UAChDM,EAASqF,cACT4C,EAAezC,aAAY,SAACC,GAAD,OAAWA,EAAMM,SAASkC,gBACrDC,EAAY1C,aAAY,SAACC,GAAD,OAAWA,EAAMM,SAASmC,aAClDC,EAAaF,EAAaC,GAC5BE,EAAc5D,EAAM6D,QAAQpB,SAASqB,OACnCC,EAAW/C,aAAY,SAACC,GAC5B,OAAOA,EAAM3G,MAAMwB,UAEjBkI,EAAQ,IAAIC,gBAAgBL,GAAaM,IAAI,SAC7CC,EAAS,IAAIF,gBAAgBL,GAAaM,IAAI,UAC9CvI,EAASqI,EAAS,QAAaG,GAAU,SACzChJ,EAAK6I,GAASG,EAEdR,IACFN,EAAiBM,EAAWS,KAAI,SAACjJ,GAC/B,OAAOmI,EAASnI,OAGpB,IAAMkJ,EAAYC,uBAChB,SAACC,GACC,IAGIC,GAAc,EACdC,EAAW,IAAIC,sBAAqB,SAAUC,EAASF,GACrDE,EAAQ,GAAGC,kBAAoB,GAAKJ,GAAeT,IACrDU,EAASI,aACTjL,EAASmC,GAASgI,EAAUvI,IAASR,MAAK,SAACE,GACzCsJ,GAAc,EACC,cAAXtJ,GACFuJ,EAASK,QAAQP,SAVT,CACdQ,UAAW,CAAC,KAcV1B,EAAe9E,OAAS,GAAKgG,GAAwB,SAAhB/I,EAAOI,KAC9C6I,EAASK,QAAQP,GAEjBE,EAASI,eAGb,CAACd,IAEHZ,qBAAU,WACR,IAAM6B,EAAWvC,EAASX,SAASmD,MAAM,KACrB,SAAhBzJ,EAAOI,MACThC,EAASsC,GAAgB8I,EAAS,KAClCpL,EAAS8B,GAAWC,EAAOR,EAAoB,SAAhBK,EAAOI,KAAkB,KAAOJ,KAE/D5B,EAAS8B,GAAWC,EAAOR,EAAoB,SAAhBK,EAAOI,KAAkB,KAAOJ,MAEhE,IACH,IAAI0J,EAAUzB,EAAaC,GACrByB,EAAiB,SAAC1L,GV7CnB,IAA+BE,EU8C7B6J,GACHxD,EAAMoF,kBAERxL,GVjDkCD,EUiDHF,EVhD1B,SAACG,GACNA,EAAS,CAAEH,KAAMxB,EAAsC0B,gBUgDvDC,EVEK,CACLH,KAAMtB,KUDR,OAAK+M,EAIH,qCACE,sBACExD,UAAS,uBAAmC,SAAjBP,EAA0B,YAAc,IADrE,UAGGnB,EAAMqF,WAAa,cAAC,GAAD,IAAa,KACjC,sBACE3D,UAAS,6BACU,SAAjBP,EAA0B,mBAAqB,IAFnD,UAKE,cAAC,KAAD,CAAMU,GAAG,GAAT,SACE,qBACEH,UAAS,iCACU,SAAjBP,EAA0B,mBAAqB,IAEjDmE,IAAKC,GACLvD,IAAI,OAGR,cAAC,KAAD,CACEJ,QAAS,kBAAMuD,EAAe,SAC9BtD,GAAI2B,EAAW,YAAc,GAC7B9B,UAAU,2BAHZ,SAKE,uBACEoB,YAAY,cACZpB,UAAS,yBACU,SAAjBP,EAA0B,mBAAqB,IAEjD1H,KAAK,WAGT,cAAC,KAAD,CACEmI,QAAS,kBAAMuD,EAAe,UAC9BtD,GAAI2B,EAAW,uBAAyB,GAF1C,SAIE,qBAAK9B,UAAU,cAAc4D,IAAKE,GAAWxD,IAAI,OAEnD,cAAC,KAAD,CACEJ,QAAS,kBAAMuD,EAAe,SAC9BtD,GAAI2B,EAAW,sBAAwB,GAFzC,SAIE,qBAAK9B,UAAU,cAAc4D,IAAKG,GAAUzD,IAAI,UAGpD,sBACEN,UAAS,+BACU,SAAjBP,EAA0B,mBAAqB,IAFnD,UAKE,cAAC,KAAD,CACEU,GAAG,OACHH,UAAS,UAAsB,SAAjBP,EAA0B,mBAAqB,IAC7DS,QAAS,kBACPhI,EAAS8B,GAAWC,EAAOR,EAAI,CAAES,KAAM,OAAS,WAJpD,iBASA,cAAC,KAAD,CACE8F,UAAS,UAAsB,SAAjBP,EAA0B,mBAAqB,IAC7DU,GAAG,OACHD,QAAS,kBACPhI,EAAS8B,GAAWC,EAAOR,EAAI,CAAES,KAAM,OAAS,WAJpD,iBASA,cAAC,KAAD,CACE8F,UAAS,UAAsB,SAAjBP,EAA0B,mBAAqB,IAC7DU,GAAG,OACHD,QAAS,kBACPhI,EAAS8B,GAAWC,EAAOR,EAAI,CAAES,KAAM,OAAS,WAJpD,oBAUF,sBAAK8F,UAAW,kBAAhB,UACG2B,EAAee,KAAI,SAAC9M,GACnB,GAAIA,EACF,OACE,cAAC,GAAD,CACEoO,WAAY1F,EAAM2F,MAClB9B,QAAS7D,EAET1I,KAAMA,GADDA,EAAK8D,QAMlB,qBAAKsG,UAAU,6BAGnB,qBAAKA,UAAU,oBAAf,SACE,qBACEA,UAA0B,YAAfJ,EAA2B,gBAAkB,eAG5D,sBAAMlB,IAAKiE,OAtGN,yBCvFI,OAA0B,6CCA1B,OAA0B,qC,oBCyS1BuB,oBA/Rf,SAAgB5F,GAAQ,IAoClB6C,EApCiB,EACWpC,oBAAS,GADpB,mBACdoF,EADc,KACJC,EADI,OAEiBrF,mBAAS,IAF1B,mBAEdsF,EAFc,KAEDC,EAFC,OAGmBvF,oBAAS,GAH5B,gCAIqBA,mBAAS,KAJ9B,mBAIdwF,EAJc,KAICC,EAJD,OAKmBzF,oBAAS,GAL5B,mBAKd0F,EALc,KAKAC,EALA,KAMf/E,EAAcL,aAAY,SAACC,GAC/B,OAAOA,EAAMI,eAETmC,EAAWxC,aAAY,SAACC,GAC5B,OAAOA,EAAM1E,MAAM8F,cAEfgE,EAAerF,aAAY,SAACC,GAChC,OAAOA,EAAMoF,gBAETzM,EAAWkH,cACXI,EAASF,aAAY,SAACC,GAC1B,OAAOA,EAAM3G,MAAM4G,UAEf5J,EAAO0J,aAAY,SAACC,GACxB,OAAOA,EAAM3G,MAAMC,QAEjB+L,EAAYpF,EAAOkD,KAAI,SAAC7B,GAC1B,OAAOjL,EAAKiL,MAERpB,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAKjBmF,EAAiB,WACrB3M,EAAS,CACPH,KAAuB,SAAjB0H,EAA0B7H,EAAqBD,KAInDmN,EAAmB,yCAAG,WAAOhN,GAAP,kBAAAiN,EAAA,6DAC1BT,EAAexM,EAAE4E,OAAOyE,OACxBA,EAAQrJ,EAAE4E,OAAOyE,MAFS,SAGNA,EAAM6D,YAHA,cAGtBC,EAHsB,gBAILL,EAAUM,QAAO,SAACtP,GAErC,OADc,IAAIuP,OAAO,IAAMF,EAAS,MAC3BG,KAAKxP,EAAKwI,UANC,OAItBiH,EAJsB,OAQ1Bb,EAAiBa,GARS,2CAAH,sDAUnBC,EAAoB,WACxBZ,GAAiBD,IAUbc,EAAc,WACdd,GACFC,GAAgB,IAkBpB,OAPAjD,qBAAU,WAGR,OAFA+D,SAASpH,MAAQ,SACjBoH,SAASC,KAAKC,iBAAiB,QAASH,GACjC,WACLC,SAASC,KAAKE,oBAAoB,QAASJ,MAE5C,CAACA,IAEF,qCACE,qBAAKvF,UAAS,kBAAd,SACE,qBACEA,UAAS,2BACU,SAAjBP,EAA0B,gBAAkB,GADrC,KADX,SAKE,sBAAKO,UAAU,iBAAf,UACE,6BACE,cAAC,KAAD,CACEG,GAAI,CAAEC,SAAU,KAChBwF,QAA6C,MAApCtH,EAAM6D,QAAQpB,SAASX,SAChCF,QA5BU,WACtBsF,SAASC,KAAKI,MAAMC,SAAW,GAC3BnB,EAAa/O,KAAKmQ,QAEG,MAArBzH,EAAM2F,MAAM+B,MACd9N,EAAS8B,OAwBCgG,UAAU,OAJZ,sBASF,sBAAKA,UAAW,uBAAhB,UACE,uBACEE,QAASoF,EACTpE,SAAU,SAACpJ,GAAD,OAAOgN,EAAoBhN,IACrCkI,UAAS,qBACU,SAAjBP,EAA0B,kBAAoB,GADvC,KAGT2B,YAAY,SACZrJ,KAAK,SAEP,sBAAMiI,UAAU,cAAhB,SACE,qBAAK4D,IAAKqC,GAAY3F,IAAI,OAE5B,qBACEJ,QAAS,SAACpI,GAAD,OAAOwN,KAChBtF,UAAS,UACPyE,EAAY,oCAEW,SAAjBhF,EACI,4BACA,IAEN,YATR,SArDH,8BAiES2F,KAAKf,GACLE,EAAc7B,KAAI,SAAC9M,GACjB,OACE,qCACG,IACD,qBACEoK,UAAS,kCACNyE,EAA+B,KAAhC,cADO,KADX,SAME,cAAC,KAAD,CACEzE,UAAS,8BACU,SAAjBP,EACI,0BACA,IAENU,GAAE,gBAAWvK,EAAK8D,KANpB,SAQG9D,EAAKwI,SAVHxI,EAAK8D,WAgBlB,UAGNoI,EAsEA,qCACE,cAAC,KAAD,CACE9B,UACmB,SAAjBP,EACI,kBACA,kBAENS,QAAS2E,IAEX,sBAAK7E,UAAU,kBAAf,UACE,yBACEE,QAAS,WA1MzBkE,GAAaD,IA2MGnE,UAAS,mCACU,SAAjBP,EAA0B,mBAAqB,IAHnD,UAME,sBAAKO,UAAU,mBAAf,UACE,qBACEA,UAAS,gCACU,SAAjBP,EAA0B,mBAAqB,IAEjDoG,MAAO,CAAEK,gBAAiB,sBAC1BtC,IAAKC,GACLvD,IAAI,KAEN,mBACEN,UAAS,kCACU,SAAjBP,EAA0B,iBAAmB,IAFjD,SAKGE,EAAY7E,cAGjB,qBACEkF,UAAU,0BACV4D,IAAKuC,GACL7F,IAAI,QAGP6D,EACC,qBAAKnE,UAAU,4BAAf,SACE,oBAAIA,UAAU,kBAAd,SACE,6BACE,wBACEE,QAtNL,WACnBhI,EAASwC,MAAUpB,MAAK,SAACD,GACH,MAAhBA,EAAKG,QACPsH,OAAOC,SAASC,aAoNIhB,UAAS,kCACU,SAAjBP,EACI,+BACA,IALR,0BAaJ,WA7HR,qCACE,cAAC,KAAD,CACEO,UACmB,SAAjBP,EACI,kBACA,kBAENS,QAAS2E,IAEX,sBAAK7E,UAAU,+BAAf,UACE,wBACEA,UAA4B,SAAjBP,EAA0B,YAAc,GACnDS,QAAS5B,EAAMoF,gBAFjB,oBAMA,wBAAQxD,QAAS5B,EAAM8H,iBAAvB,wBAEF,qBAAKpG,UAAU,sBAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,uBACEjI,KAAK,WACL0B,GAAG,UACHuG,UAAW,iBAEb,uBACEqG,QAAQ,UACRrG,UAAS,uBACU,SAAjBP,EAA0B,mBAAqB,GADxC,KAFX,SAME,qBAAKO,UAAW,8BAAhB,SACE,sBAAMA,UAAW,0BAGrB,sBAAKA,UAAU,2BAAf,UACE,oBACEA,UAAS,yBACU,SAAjBP,EACI,0BACA,GAHG,KADX,SAOE,wBACEO,UAAU,wBACVE,QAAS5B,EAAMoF,gBAFjB,sBAOF,oBACE1D,UAAS,yBACU,SAAjBP,EACI,0BACA,GAHG,KADX,SAOE,wBACEO,UAAU,wBACVE,QAAS5B,EAAM8H,iBAFjB,yCA2ElB,8BChHSE,GAhLC,WACd,IAGIrM,EAFK,IAAIsI,gBAAgBV,cAAcO,QAGvCmE,EAAWtM,EAAMuI,IAAI,SACrBgE,EAAYvM,EAAMuI,IAAI,QACtBlK,EAAiBgH,aAAY,SAACC,GAChC,OAAOA,EAAMlH,wBAAwBC,kBAEjC6J,EAAUsE,cACVvO,EAAWkH,cAXG,EAYML,mBAAS,IAZf,mBAYbX,EAZa,KAYNsI,EAZM,OAaI3H,mBAAS,IAbb,mBAab4H,EAba,KAaPC,EAbO,OAcU7H,mBAAS,IAdnB,mBAcb8H,EAda,KAcFC,EAdE,KAedC,EAAczH,aAAY,SAACC,GAC/B,OAAOA,EAAM3G,MAAMoO,aAEfC,EAAgB3H,aAAY,SAACC,GAAD,OAAWA,EAAM1E,MAAMqM,YAEnDC,GADiB7H,aAAY,SAACC,GAAD,OAAWA,EAAM1E,MAAM8F,cACxCrB,aAAY,SAACC,GAC7B,OAAOA,EAAM3G,MAAMuO,cAEf1H,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAavB,GAXA+B,qBAAU,cAAU,IACpBA,qBAAU,WACJ8E,EACFjO,EAAiB,QACRkO,IACTlO,EAAiB,QAEfyO,GACF5E,EAAQiF,KAAR,gBAAsBD,MAEvB,CAACJ,IACAE,EACF,OAAO,wBAsBT,OACE,qBACEjH,UAAS,0BACU,SAAjBP,EAA0B,YAAc,IAF5C,SAKE,sBAAKO,UAAU,oBAAf,UACE,mBAAGA,UAAU,gBAAb,2BACA,sBACEA,UAAS,2BACU,SAAjBP,EAA0B,+BAAiC,IAF/D,UAKE,sBAAKO,UAAU,kBAAf,UACE,wBACEA,UACqB,SAAnB1H,EAAA,gDAEuB,SAAjBmH,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFS,QApCW,WACrBY,OAAOqB,QAAQkF,aAAa,QAAS,QAAS,aAC9CnP,EAASF,EAAyB,UAwB1B,kBAcA,yBACEgI,UACqB,UAAnB1H,EAAA,gDAEuB,SAAjBmH,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFS,QA9CY,WACtBhI,EAASF,EAAyB,UAClC8I,OAAOqB,QAAQkF,aAAa,QAAS,QAAS,cAkCtC,oBAYU,IAZV,YAcA,wBACErH,UACqB,SAAnB1H,EAAA,gDAEuB,SAAjBmH,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFS,QAxDW,WACrBhI,EAASF,EAAyB,SAClC8I,OAAOqB,QAAQkF,aAAa,QAAS,QAAS,cA4CtC,qBAeF,uBAAMC,OAAO,GAAb,UACE,qBAAKtH,UAAU,0BAAf,SACE,uBACEkB,SAAU,SAACpJ,GACT4O,EAAS5O,EAAE4E,OAAOyE,QAEpBC,YAAY,QACZpB,UAAS,wBACU,SAAjBP,EAA0B,kBAAoB,IAEhD1H,KAAK,WAGT,sBAAKiI,UAAU,0BAAf,UACsB,UAAnB1H,EACC,qBAAK0H,UAAU,yBAAf,SACE,uBACEkB,SAAU,SAACpJ,GACTgP,EAAShP,EAAE4E,OAAO6K,MAAM,KAE1BvH,UAAU,eACVjI,KAAK,OACLyP,KAAK,GACL/N,GAAG,iBAIP,0BACEyH,SAAU,SAACpJ,GACT8O,EAAQ9O,EAAE4E,OAAOyE,QAEnBC,YAAY,iBACZpB,UAAS,wBACU,SAAjBP,EAA0B,kBAAoB,IAEhD+H,KAAK,GACL/N,GAAG,GACHgO,KAAK,KACLC,KAAK,OAGT,qBAAK1H,UAAU,8BAAf,SACE,wBACEjI,KAAK,SACLmI,QAAS,SAACpI,GAAD,OAzHN,SAACA,GAClBA,EAAE6P,iBACF,IAAMtO,EAAO,IAAIuO,SACjBvO,EAAKwO,OAAO,QAASzJ,GACrB/E,EAAKwO,OAAO,UAAWlB,GACvBtN,EAAKwO,OAAO,OAAQhB,GACpB3O,EAASiB,EAAWE,IAmHUyO,CAAWhQ,IAC3BkI,UAAS,6BACU,SAAjBP,EAA0B,mBAAqB,IAJnD,mCC7IT,SAASsI,GAAWC,EAASvP,GAClC,OAAO,SAACP,EAAUC,GAEhB,OADAD,EAhBK,CACLH,KhBM+B,wBgBUxBgB,IAAM,CACXC,IAAK,mBACLC,OAAQ,OACRI,KAAM,CACJ2O,UACAvP,UAEFS,iBAAiB,IAChBI,MAAK,SAACC,GACPrB,EAtBN,SAA2B+P,EAAcxP,EAAQyP,GAC/C,OAAO,SAAChQ,EAAUC,GAChBD,EAAS,CACPH,KAAMrB,EACNuR,eACAxP,SACAyP,cAgBSC,CAAkB5O,EAAIF,KAAMZ,QAepC,SAAS2P,GAAmB5P,EAAOC,EAAQ4P,GAChD,OAAO,SAACnQ,EAAUC,GAChB,IAAMmQ,EAAmBD,EAEnB1P,EADiBR,IAAWxC,SAASkD,KAAKyP,GACRxP,UACxCZ,EAAS,CACPH,KAAMlB,EACN2B,QACA6P,YACA1P,qBAEY,IAAVH,EACFO,IAAM,CACJC,IAAK,uBACLC,OAAQ,MACRI,KAAM,CACJZ,SACA4P,aAEFnP,iBAAiB,KAEC,IAAXV,GACTO,IAAM,CACJC,IAAK,yBACLC,OAAQ,MACRI,KAAM,CACJZ,SACA4P,aAEFnP,iBAAiB,KC/EV,WAA0B,uCCAzC,SAAS,KAA2Q,OAA9P,GAAWsD,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IsB,EAAG,kaAGDuK,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IvK,EAAG,sYAGDwK,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAEnD,SAASC,GAAQrL,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,sBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3D3E,GAAI4E,GACHD,GAAS,KAAM,GAAOmK,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,IAG5I,IAAI,GAA0B,aAAiBC,IC5DhC,ID6DA,IC7DA,IAA0B,sCC6I1BC,GAjIC,SAAVA,EAAW,GAAkC,IAAhClU,EAA+B,EAA/BA,QAASoO,EAAsB,EAAtBA,gBACpBjE,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAEjB+J,EAAcnK,aAAY,SAACC,GAC/B,OAAOA,EAAM5J,SAASkD,QAElBiJ,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAM1E,MAAM8F,cAC9CzI,EAAWkH,cACXtF,EAASqF,cATiC,EAUdJ,mBAAS,IAVK,mBAUzC2K,EAVyC,KAU9BC,EAV8B,OAWV5K,oBAAS,GAXC,mBAWzC6K,EAXyC,KAW5BC,EAX4B,KAqChD,GADApI,qBAAU,cAAU,KACfnM,EACH,OAAO,wBAET,IAAMwU,GAAkBxU,EAAQK,UAAY,IAAI+M,KAAI,SAACpN,GACnD,OAAO,cAACkU,EAAD,CAAuBlU,QAASmU,EAAYnU,IAA9BA,MAEvB,OACE,sBAAKuQ,MAAO,CAAEkE,WAAY,OAAQC,UAAW,QAA7C,UACE,sBAAKhK,UAAU,+BAAf,UACE,qBAAKA,UAAU,yBAAf,SACE,sBAAKA,UAAU,gCAAf,UACE,cAAC,GAAD,CACEA,UACwB,IAAtB1K,EAAQwD,UACJ,4BADJ,UAGuB,SAAjB2G,EACI,kBACA,uBAGZmE,IAAKqG,GACL/J,QA/CG,WACT4B,EACF5J,EAASkQ,GAAmB,EAAGtO,EAAOL,GAAInE,EAAQoE,MAElDgK,KA4CQpD,IAAI,KAEN,sBAAMN,UAA4B,SAAjBP,EAA0B,iBAAmB,GAA9D,SACGnK,EAAQiL,YAEX,cAAC,GAAD,CACEP,WACyB,IAAvB1K,EAAQwD,UAAR,sCAGuB,SAAjB2G,EACI,kBACA,uBAGZmE,IAAKsG,GACLhK,QAzDK,WACX4B,EACF5J,EAASkQ,IAAoB,EAAGtO,EAAOL,GAAInE,EAAQoE,MAEnDgK,YAyDE,sBAAK1D,UAAU,oBAAf,UACE,mBACEA,UAAS,yBACU,SAAjBP,EAA0B,iBAAmB,IAFjD,SAKGnK,EAAQ6U,aAEX,qBACEnK,UAAS,yBACU,SAAjBP,EAA0B,iBAAmB,IAFjD,SAKGnK,EAAQ0S,UAEX,sBAAKhI,UAAU,yBAAf,UACG8B,EACC,wBAAQ5B,QAvEM,WACxB2J,GAAgBD,GAChB1R,EJAK,CACLH,KAAMpB,EACNyO,KAAM,MImEwCpF,UAAU,eAA9C,mBAGE,KACH4J,EACC,sBAAK5J,UAAU,wBAAf,UACE,0BACEmB,MAAOuI,EACPxI,SAAU,SAACpJ,GACT6R,EAAa7R,EAAE4E,OAAOyE,QAExBC,YAAY,0BACZpB,UAAU,6BACV0H,KAAK,MAEP,qBAAK1H,UAAU,2BAAf,SACE,wBACEE,QApFE,WAClB,IAAImI,EAAY/S,EAAQoE,IACxBxB,EJwCG,SAAkB8P,EAASvP,EAAQ4P,GACxC,OAAO,SAACnQ,EAAUC,GAAX,OACLY,IAAM,CACJC,IAAI,iBAAD,OAAmBqP,EAAnB,YACHpP,OAAQ,OACRI,KAAM,CACJ2O,UACAvP,UAEFS,iBAAiB,IAChBI,MAAK,SAACC,GACPrB,EAAS,CACPH,KAAMnB,EACNwT,MAAO7Q,EAAIF,KACXZ,SACA4P,kBIvDKgC,CAASX,EAAW5P,EAAOL,GAAI4O,IACxCwB,GAAe,GACfF,EAAa,KAiFG3J,UAAU,wBAFZ,wBAQF,cAIV,qBAAKA,UAAU,kBAAf,SAAkC8J,QCsHzBQ,oBARf,SAAyB/K,EAAOgL,GAC9B,IAAI9Q,EAAK8Q,EAAStG,MAAMnK,OAAOL,GAG/B,MAAO,CACL7D,KAFK2J,EAAM3G,MAAMC,KAAKY,MAKX6Q,EApPG,SAAChM,GACjB,IAAMxE,EAASqF,cACTjH,EAAWkH,cACX+C,EAAUsE,cAHW,EAIW1H,mBAAS,IAJpB,mBAIpByL,EAJoB,KAIPC,EAJO,OAKH1L,oBAAS,GALN,mBAKpB2L,EALoB,KAKdC,EALc,OAMK5L,mBAAS,IANd,mBAMpB6L,EANoB,KAMVC,EANU,KAOrBlL,EAAcL,aAAY,SAACC,GAAD,OAAWA,EAAMI,YAAYjG,OACvD/D,EAAW2J,aAAY,SAACC,GAC5B,OAAOA,EAAM5J,SAASkD,QAElBiJ,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAM1E,MAAM8F,cAChDmK,EAAcxM,EAAM1I,KAIlBmV,EAAgB,WACpB5I,EAAQiF,KAAK,MAaT3H,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAejBsL,EAAW,SAACvR,GpB4Eb,IAAkBhB,EAAQuP,EoB3E7B9P,GpB2EqBO,EoB3EHgB,EpB2EWuO,EoB3EP4C,EpB4EjB,SAAC1S,GAEN,OADAA,EAAS,CAAEH,KAAMd,EAAWwB,SAAQuP,YAC7BjP,IAAM,CACXC,IAAI,aAAD,OAAeP,GAClBQ,OAAQ,MACRC,iBAAiB,EACjBG,KAAM,CACJ2O,QAASA,QoBlFb2C,GAAQ,IAEV,IAAKG,EACH,OAAO,wBAET,IAAMG,EAAO,IAAIC,KAAKJ,EAAYK,WAC5BC,EAAa,IAAIC,KAAKC,eAAe,QAAS,IAAIC,OAAON,GAC/D,OACE,sBACE/K,QAAS6K,EACT/K,UAAS,wBAAoC,SAAjBP,EAA0B,YAAc,IAFtE,UAIE,uBAAO1H,KAAK,WAAW0B,GAAG,UAAUuG,UAAW,iBAC/C,uBACEqG,QAAQ,UACRrG,UAAS,sBACU,SAAjBP,EAA0B,mBAAqB,IAHnD,SAME,qBAAKS,QAAS6K,EAAe/K,UAAW,4BAAxC,SACE,sBAAMA,UAAW,wBAGrB,qBACEE,QA3DO,SAACpI,GACZA,EAAE0T,mBA2DExL,UAAS,qBACU,SAAjBP,EAA0B,mBAAqB,IAHnD,SAMGqL,EAAY7K,OACX,qCACE,oBAAGD,UAAU,oBAAb,UACG,IADH,KAEK8K,EAAY7K,OAAOnF,YAExB,mBACEkF,UAAS,qBACU,SAAjBP,EAA0B,iBAAmB,IAFjD,SAKG2L,IAEH,oBACEpL,UAAS,2BACU,SAAjBP,EAA0B,iBAAmB,IAFjD,SAKGqL,EAAY1M,QAEduB,IAAgBmL,EAAY7K,OAAOvG,IAClC,sBAAKsG,UAAU,iBAAf,UACE,mBACEA,UAAS,6BAAwB0K,EAAO,WAAa,KAA5C,KADX,SAGGI,EAAY9C,UAEf,0BACE9G,SAAU,SAACpJ,GACT+S,EAAY/S,EAAE4E,OAAOyE,QAEvBnB,UAAW0K,EAAO,iBAAmB,WACrCvJ,MAAOyJ,IAET,sBAAK5K,UAAW0K,EAAI,mCAApB,UACE,wBACExK,QAAS,kBAAM8K,EAASF,EAAYpR,MACpCsG,UAAU,qBAFZ,kBAMA,wBACEE,QA5EO,WACvByK,GAAQ,IA4EQ3K,UAAU,qBAFZ,uBAOF,wBACEA,UAAS,sBAAiB0K,EAAO,WAAa,MAC9CxK,QAvFG,WACjByK,GAAQ,IAoFI,SAIE,cAAC,GAAD,SAGF,KACJ,qBAAK3K,UAAU,uBAAf,SACE,qBAAKA,UAAU,aAAa4D,IAAKtF,EAAM1I,KAAK6V,MAAOnL,IAAI,OAExDX,EACC,sBAAKK,UAAU,wBAAf,UACE,0BACEA,UAAU,cACVwH,KAAK,GACL/N,GAAG,GACH2H,YAAY,0BACZsG,KAAK,IACLvG,MAAOqJ,EACPtJ,SAAU,SAACpJ,GAAD,OAAO2S,EAAe3S,EAAE4E,OAAOyE,UAE3C,sBAAMnB,UAAU,2BAAhB,SACE,wBACEE,QAAS,WAjIzBhI,EAAS6P,GAAWyC,EAAalM,EAAM1I,KAAK8D,MAC5C+Q,EAAe,KAmICzK,UAAU,wBAJZ,0BAWJ,sBACEA,UAAS,oCACU,SAAjBP,EAA0B,mBAAqB,GADxC,KADX,UAKE,mBAAGO,UAAU,kBAAb,kDAGA,sBAAKA,UAAU,wBAAf,UACE,wBACEA,UAA4B,SAAjBP,EAA0B,YAAc,GACnDS,QAAS5B,EAAMoF,gBAFjB,oBAMA,wBAAQxD,QAAS5B,EAAM8H,iBAAvB,2BAIN,sBAAKpG,UAAU,4BAAf,UACE,oBAAIE,QA5JK,WACf4B,EACF5J,EAASK,EAAY,EAAGuB,EAAOL,KAE/B6E,EAAMoF,mBAwJE,SACE,cAAC,GAAD,CACE1D,UAC4B,IAA1B8K,EAAYhS,UAAZ,8BAGuB,SAAjB2G,EACI,kBACA,eAGZmE,IAAKqG,GACL3J,IAAI,OAGR,oBAAIN,UAA4B,SAAjBP,EAA0B,iBAAmB,GAA5D,SACGqL,EAAYvK,YAEf,oBAAIL,QApKO,WACjB4B,EACF5J,EAASK,GAAa,EAAGuB,EAAOL,KAEhC6E,EAAMoF,mBAgKE,SACE,cAAC,GAAD,CACE1D,WAC6B,IAA3B8K,EAAYhS,UAAZ,8BAGuB,SAAjB2G,EACI,kBACA,eAGZmE,IAAKsG,GACL5J,IAAI,UAIV,oBACEN,UAAS,iCACU,SAAjBP,EAA0B,iBAAmB,GADtC,KADX,sBAOCnB,EAAM1I,KAAKD,SAASkH,OAAS,GAC5ByB,EAAM1I,KAAKD,SAAS+M,KAAI,SAACpN,GACvB,OACE,cAAC,GAAD,CACEoO,gBAAiBpF,EAAMoF,gBAEvBpO,QAASK,EAASL,IADbA,SAMb,a,MCjIGgV,oBANf,SAAyB/K,EAAOgL,GAE9B,MAAO,CACLzI,SAFmBvC,EAAM1E,MAAM8F,cAKpB2J,EArGf,SAAahM,GAAQ,IAAD,EACYS,oBAAS,GADrB,mBACX2M,EADW,KACAC,EADA,OAEc5M,oBAAS,GAFvB,gCAGwBA,oBAAS,IAHjC,mBAGXkI,EAHW,KAGI2E,EAHJ,OAIkB7M,oBAAS,GAJ3B,mBAIX4E,EAJW,KAICkI,EAJD,KAKZC,EAAiBxM,aAAY,SAACC,GAAD,OAAWA,EAAMI,YAAYgB,cAC1DoL,EAAiBzM,aAAY,SAACC,GAAD,OAAWA,EAAMlE,OAAO2Q,cACrD9T,EAAWkH,cACXK,EAAeH,aAAY,SAACC,GAChC,OAAOA,EAAMG,QAAQA,WAEvB+B,qBAAU,WACRvJ,EpBiGG,WACL,IAAMgD,EAAQP,aAAaqB,QAAQ,eACnC,gDAAO,WAAO9D,GAAP,gBAAA6M,EAAA,yDACA7J,EADA,yCAEI,aAFJ,cAILhD,EAAS,CAAEH,KAAML,IAJZ,SAKcqB,IAAM,CACvBG,iBAAiB,EACjBD,OAAQ,MACRD,IAAK,mBARF,cAKCK,EALD,gBAWHnB,EAAS,CACPH,KAAMzB,EACNwE,SAAUzB,EAAKA,KAAKyB,SACpB0G,KAAMnI,EAAKA,KAAKK,MAdf,kBAgBI,aAhBJ,kCAkBHxB,EAASwC,MAlBN,0DAAP,sDoBnGWoH,IAAYxI,MAAK,SAACD,GACrBA,GACFuS,GAAiB,QAGpB,CAAC1T,IACJuJ,qBAAU,WACJqK,GACFH,GAAS,GAEPI,IAAmBD,IACrBD,GAAc,GACdF,GAAS,MAEV,CAACG,EAAgBC,IACpB,IAAMrI,EAAkB,WACtBiI,GAAUD,IAENtF,EAAmB,WACvByF,GAAelI,IAEXsI,EAAa,WACjB/T,EpBuEK,CACLH,KAAMN,IoBvENkU,GAAS,GACTE,GAAc,IAEVK,EAAqB,SAACC,EAAQjS,GAClChC,EAASmC,GAAS8R,EAAQjS,KAE5B,OACE,sBACET,GAAG,iBACHuG,UAAS,sBAAkC,SAAjBP,EAA0B,YAAc,IAFpE,UAIGiM,EAAY,cAAC,GAAD,CAAOzK,MAAOgL,IAAiB,KAC3CtI,EAAa,cAAC,GAAD,CAAQ1C,MAAOgL,IAAiB,KAC9C,cAAC,GAAD,CACEvI,gBAAiBA,EACjB0C,iBAAkBA,IAEpB,cAAC,IAAD,CACEgG,OAAK,EACLpG,KAAK,YACLqG,OAAQ,SAAC/N,GACP,OACE,cAAC,GAAD,aACEoF,gBAAiBA,EACjB0C,iBAAkBA,GACd9H,OAKZ,eAAC,IAAD,WACE,cAAC,IAAD,CACE8N,OAAK,EACLpG,KAAK,YACLqG,OAAQ,SAAC/N,GACP,OAAO,cAAC,GAAD,eAAaA,KAJxB,SAOI2I,GAAkB3I,EAAMwD,SAAiC,KAAtB,cAAC,IAAD,CAAU3B,GAAG,QAEpD,cAAC,IAAD,CACE6F,KAAM,CAAC,SAAU,KACjBqG,OAAQ,SAACC,GACP,OACE,cAAC,GAAD,yBACE5I,gBAAiBA,EACjB0C,iBAAkBA,EAClB8F,mBAAoBA,GAChBI,GAJN,IAKElH,KAAM9G,EAAM1F,UAIlB8S,UAAWA,EACX/H,WAAYA,a,4CClEtB,SAAS4I,GAAcC,EAAMC,GAC3B,IAAIC,EAAWF,EAAKG,OAAOF,GACvBG,EAAM,IAAIC,IAAIH,GAClB,OAAO,aAAIE,GAEb,SAASE,GAAWvN,EAAO+H,GACzB,OAAO,2BACF/H,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDyO,EAAO7O,OAFN,2BAGG8G,EAAM1G,KAAKyO,EAAO7O,SAHrB,IAIA9C,SAAS,GAAD,oBACH4J,EAAM1G,KAAKyO,EAAO7O,QAAQ9C,UADvB,CAEN2R,EAAOW,aAAavO,YAM9B,SAASqT,GAAgBxN,EAAO+H,GAAS,IAC/B7O,EAAW6O,EAAX7O,OACAD,EAAU8O,EAAV9O,MACAG,EAAqB2O,EAArB3O,iBACF/C,EAAO2J,EAAM1G,KAAKJ,GACxB,OAAI6O,EAAOe,UACF9I,EAEkB,IAArB5G,GAAoC,IAAVH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,QAKzB,IAArB5H,GAAoC,IAAVH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,QAKzB,IAArB5H,IAAqC,IAAXH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,WAAY,EACZyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,QAKzB,IAArB5H,IAAqC,IAAXH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,WAAY,EACZyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,SAKxB,IAAtB5H,IAAsC,IAAXH,EACtB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,SAKxB,IAAtB5H,GAAqC,IAAVH,EACtB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAkD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKJ,GAAQ8H,UAAY,aARlD,EAeJ,SAASyM,GAAqBzN,EAAO+H,GAAS,IACpC1R,EAAa0R,EAAb1R,KAAM6D,EAAO6N,EAAP7N,GACd,OAAO,2BACF8F,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDY,EAAK7D,IAER4J,OAAO,GAAD,oBAAMD,EAAMC,QAAZ,CAAoB/F,IAC1BwT,YAAY,EACZC,aAAa,2BACR3N,EAAM2N,cADC,mBAETzT,EAAK7D,IAERoR,WAAW,EACXG,UAAW1N,IAGf,SAAS0T,GAAe5N,EAAO+H,GAAS,IAC9B7O,EAAoB6O,EAApB7O,OAAQuP,EAAYV,EAAZU,QACVpS,EAAO2J,EAAM1G,KAAKJ,GACxB,OAAO,2BACF8G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDJ,EAFC,2BAGG7C,GAHH,IAIAoS,QAASA,QAKjB,SAASoF,GAAmB7N,EAAO+H,GACjC,IAAI9H,EAASD,EAAMC,OACf6N,EAAc/F,EAAOnN,eAAemT,OACpCV,EAAM,IAAIC,IAAIQ,EAAYV,OAAOnN,IACrC,OAAO,2BACFD,GADL,IAEEgO,YAAY,EACZ1U,KAAK,2BACA0G,EAAM1G,MACNyO,EAAOnN,eAAeqT,SAAS5U,OAEpCY,OAAQ,YACRgG,OAAO,aAAKoN,KAGhB,SAASa,GAAelO,EAAO+H,GAC7B,IAAI9H,EAASD,EAAMC,OACf6N,EAAc/F,EAAOnN,eAAemT,OACpCV,EAAM,IAAIC,IAAIrN,EAAOmN,OAAOU,IAChC,OAAO,2BACF9N,GADL,IAEEgO,YAAY,EACZ1U,KAAK,2BACA0G,EAAM1G,MACNyO,EAAOnN,eAAeqT,SAAS5U,OAEpCwB,OAAQkN,EAAOlN,OACfZ,OAAQ,YACRgG,OAAO,aAAKoN,KAGhB,SAASc,GAAYnO,EAAO+H,EAAQqG,GAClC,OAAO,2BACFpO,GADL,IAEE/F,OAAQ,YACRwI,UAAWsF,EAAOpN,KAClB6H,aAAa,2BACRxC,EAAMwC,cADC,mBAETuF,EAAOpN,KAAOqS,GACbhN,EAAMwC,aAAauF,EAAOpN,MAAQqF,EAAMwC,aAAauF,EAAOpN,MAAQ,GACpEoN,EAAOnN,eAAemT,YA2C9B,SAASM,GAAcrO,EAAO+H,GAC5B,IAAI9H,EAASD,EAAMC,OACf6N,EAAc/F,EAAOnN,eAAemT,OACpCV,EAAM,IAAIC,IAAIrN,EAAOmN,OAAOU,IAChC,OAAO,2BACF9N,GADL,IAEEgO,YAAY,EACZ1U,KAAK,2BACA0G,EAAM1G,MACNyO,EAAOnN,eAAeqT,SAAS5U,OAEpCwB,OAAQkN,EAAOlN,OACfZ,OAAQ,YACRgG,OAAO,aAAKoN,KAuEhB,SAASiB,GAAatO,EAAO+H,GAAS,IAC5B1R,EAAS0R,EAAT1R,KACR,OAAO,2BACF2J,GADL,IAEE3J,SAoBJ,SAASkY,GAAgBvO,EAAO+H,GAAS,IAC/BW,EAAiBX,EAAjBW,aACR,OAAO,2BACF1I,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDyO,EAAOW,aAAavO,IAFnB,2BAGG6F,EAAM1G,KAAKoP,EAAavO,MACxB4N,EAAOW,kBAKlB,SAASG,GAAmB7I,EAAO+H,GACjC,IAAIA,EAAOe,UAoFT,OAAO9I,EApFc,IACb8I,EAAcf,EAAde,UACA7P,EAAU8O,EAAV9O,MACAG,EAAqB2O,EAArB3O,iBACFrD,EAAUiK,EAAM1G,KAAKwP,GAC3B,OAAyB,IAArB1P,GAAoC,IAAVH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,QAK5B,IAArB5H,GAAoC,IAAVH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,QAK5B,IAArB5H,IAAqC,IAAXH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,WAAY,EACZyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,QAK5B,IAArB5H,IAAqC,IAAXH,EACrB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,WAAY,EACZyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,SAK3B,IAAtB5H,IAAsC,IAAXH,EACtB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,SAK3B,IAAtB5H,GAAqC,IAAVH,EACtB,2BACF+G,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,mBAEDwP,EAFC,2BAGG/S,GAHH,IAIAwD,UAAW,EACXyH,UAAWhB,EAAM1G,KAAKwP,GAAW9H,UAAY,aARrD,EAiBJ,IAAM8J,GAAW,SAAC9K,EAAO+H,GAAY,IAAD,EAClC,OAAO,2BACF/H,GADL,IAEE1G,KAAK,2BACA0G,EAAM1G,MADP,wBAEDyO,EAAOe,UAFN,2BAGG9I,EAAM1G,KAAKyO,EAAOe,YAHrB,IAIA1S,SAAS,GAAD,oBAAM4J,EAAM1G,KAAKyO,EAAOe,WAAW1S,UAAnC,CAA6C2R,EAAO8C,MAAM1Q,SAJlE,eAMD4N,EAAO8C,MAAM1Q,IAAM4N,EAAO8C,OANzB,OAyMR,IAWe2D,GAXKC,2BAAgB,CAClCrY,SAhMF,WAMG,IALD4J,EAKA,uDALQ,CACN1G,KAAM,GACNoV,MAAO,IAET3G,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKhC,EAQL,KAAKD,EACH,OAAO0G,OAAOC,OAAO,GAAI8C,EAAO,CAC9B1G,KAAK,2BACA0G,EAAM1G,MACNyO,EAAOnN,eAAeqT,SAAS7X,YAIxC,KAAKiB,EACH,OAAOyT,GAAS9K,EAAO+H,GACzB,KAAKzQ,EACH,OAAOuR,GAAmB7I,EAAO+H,GACnC,KAAK5Q,EACH,OAAOoX,GAAgBvO,EAAO+H,GAChC,KAAK3Q,EACH,OAAO6F,OAAOC,OAAO,GAAI8C,EAAO,IAClC,QACE,OAAOA,IAgKXG,QArBK,WAKJ,IAJDH,EAIA,uDAJQ,CACNG,QAAS,WAEX4H,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKJ,EACH,OAAO6E,OAAOC,OAAO,GAAI8C,EAAO,CAC9BG,QAAS,SAEb,KAAK9H,EACH,OAAO4E,OAAOC,OAAO,GAAI8C,EAAO,CAC9BG,QAAS,YAEb,QACE,OAAOH,IAMXoF,aArUF,WAKG,IAJDpF,EAIA,uDAJQ,CACN3J,KAAM,IAER0R,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKX,EACH,OAAOyW,GAAatO,EAAO+H,GAC7B,KAAK9Q,EACH,OAAOgG,OAAOC,OAAO,GAAI8C,EAAO,CAC9B3J,KAAM0R,EAAO1R,OAEjB,QACE,OAAO2J,IAwTXlH,wBA/JF,WAKG,IAJDkH,EAIA,uDAJQ,CACNjH,eAAgB,IAElBgP,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKxB,EACH,OAAOiG,OAAOC,OAAO,GAAI8C,EAAO,CAC9BjH,eAAgBgP,EAAOrP,WAE3B,QACE,OAAOsH,IAoJX3G,MAlZF,WAgBG,IAfD2G,EAeA,uDAfQ,CACNgO,YAAY,EACZ1U,KAAM,GACN2G,OAAQ,GACRpF,OAAQ,KACR4M,WAAW,EACXzL,IAAK,KACL2R,aAAc,GACdD,YAAY,EACZ9F,UAAW,KACX3N,OAAQ,OACR0U,QAAS,GACT/B,OAAQ,IAEV7E,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKP,EACH,OAAOgF,OAAOC,OAAO,GAAI8C,EAAO,CAC9B/F,OAAQ,OACRY,OAAQkN,EAAOlN,SAEnB,KAAKrD,EACH,OAAOqW,GAAmB7N,EAAO+H,GACnC,KAAKxQ,EACH,OAAO2W,GAAelO,EAAO+H,GAC/B,KAAKzR,EACH,OAAO2G,OAAOC,OAAO,GAAI8C,EAAO,CAC9BgO,YAAY,EACZ/T,OAAQ,YAEZ,KAAKnC,EACH,OAAOmF,OAAOC,OAAO,GAAI8C,EAAO,CAC9B1G,KAAMyO,EAAO6G,OACb3O,OAAQ8H,EAAO8G,aACflB,aAAc,KAElB,KAAKnX,EAEL,KAAKD,EACH,OAAO8X,GAAcrO,EAAO+H,GAC9B,KAAKzQ,EACH,OAAOkW,GAAgBxN,EAAO+H,GAChC,KAAKtQ,EACH,IAAMwI,EAASD,EAAMC,OACf6O,EAAgB7O,EAAO0F,QAAO,SAACzL,GACnC,OAAOA,IAAO6N,EAAO7O,UAEvB,OAAO+D,OAAOC,OAAO,GAAI8C,EAAO,CAC9BC,OAAQ6O,IAEZ,KAAK3X,EACH,OAAOoW,GAAWvN,EAAO+H,GAC3B,KAAK7Q,EACH,OAAO+F,OAAOC,OAAO,GAAI8C,EAAO,CAC9ByH,WAAW,EACXiG,YAAY,EACZ9F,UAAW,KAEf,KAAKlQ,EACH,OAAOkW,GAAe5N,EAAO+H,GAC/B,KAAK9Q,EACH,OAAOwW,GAAqBzN,EAAO+H,GACrC,QACE,OAAO/H,IAkVX1E,MA9GF,WAQG,IAPD0E,EAOA,uDAPQ,CACN+O,aAAa,EACb3N,YAAY,EACZpF,IAAK,KACL2L,UAAU,GAEZI,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKL,EACH,OAAO8E,OAAOC,OAAO,GAAI8C,EAAO,CAC9BoB,YAAY,EACZuG,UAAU,IAEd,KAAK5Q,EACH,OAAOkG,OAAOC,OAAO,GAAI8C,EAAO,CAC9B2H,UAAU,IAEd,KAAK3P,EACH,OAAOiF,OAAOC,OAAO,GAAI8C,EAAO,CAC9BhE,IAAK,sCAET,KAAK9D,EACH,OAAO+E,OAAOC,OAAO,GAAI8C,EAAO,CAC9BhE,IAAK,OAET,KAAKvF,EACH,OAAOwG,OAAOC,OAAO,GAAI8C,EAAO,CAC9B+O,aAAa,EACb3N,YAAY,IAEhB,KAAK1K,EACH,OAAOuG,OAAOC,OAAO,GAAI8C,EAAO,CAC9B+O,aAAa,EACb3N,YAAY,IAEhB,KAAKzJ,EAKL,KAAKhB,EACH,OAAOsG,OAAOC,OAAO,GAAI8C,EAAO,CAC9B+O,aAAa,EACb3N,YAAY,IAEhB,QACE,OAAOpB,IA+DXlE,OAnJF,WAQG,IAPDkE,EAOA,uDAPQ,CACNgP,aAAa,EACbvC,YAAY,EACZzQ,IAAK,KACLC,cAAe,MAEjB8L,EACA,uCACQ9L,EAAkB8L,EAAlB9L,cACR,OAAQ8L,EAAOvP,MACb,KAAK5B,EACH,OAAOqG,OAAOC,OAAO,GAAI8C,EAAO,CAC9BhE,IAAK,KACLC,cAAe,OAEnB,KAAKpF,EACH,OAAOoG,OAAOC,OAAO,GAAI8C,EAAO,CAC9ByM,YAAY,EACZuC,aAAa,EACbhT,IAAK,KACLC,cAAe,OAEnB,KAAKrE,EACH,OAAOqF,OAAOC,OAAO,GAAI8C,EAAO,CAC9BhE,IAAK,OAET,KAAKlF,EACH,OAAOmG,OAAOC,OAAO,GAAI8C,EAAO,CAC9BhE,IAAK+L,EAAO7L,MACZD,kBAEJ,QACE,OAAO+D,IAmHXI,YA7DF,WAOG,IANDJ,EAMA,uDANQ,CACNzE,SAAU,GACVpB,IAAK,GACL6B,IAAK,MAEP+L,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKb,EACH,OAAOsF,OAAOC,OAAO,GAAI8C,EAAO,CAC9BzE,SAAU,KACVpB,IAAK,OAET,KAAKpC,EACH,OAAOkF,OAAOC,OAAO,GAAI8C,EAAO,CAC9BzE,SAAUwM,EAAOkH,SAAS1T,SAC1BpB,IAAK4N,EAAOkH,SAAS9U,MAEzB,KAAKzD,EACH,OAAOuG,OAAOC,OAAO,GAAI8C,EAAO,CAC9BzE,SAAUwM,EAAOxM,SACjBpB,IAAK4N,EAAO7N,KAEhB,KAAKnD,EACH,OAAOkG,OAAOC,OAAO,GAAI8C,EAAO,CAC9BoB,YAAY,EACZ7F,SAAUwM,EAAOxM,SACjBpB,IAAK4N,EAAO9F,OAEhB,QACE,OAAOjC,IA+BXM,SA5cF,WAOG,IANDN,EAMA,uDANQ,CACNyC,UAAW,UACXD,aAAc,GACdvI,OAAQ,QAEV8N,EACA,uCACA,OAAQA,EAAOvP,MACb,KAAKP,EACH,OAAOkW,GAAYnO,EAAO+H,GAC5B,KAAKzR,EACH,OAAOyR,EAAOxP,EACV0E,OAAOC,OAAO,GAAI8C,EAAO,CACvB/F,OAAQ,YAEV+F,EACN,KAAKvI,EACH,IAAMqX,EAAgB9O,EAAMwC,aAAaxC,EAAMyC,WAAWkD,QAAO,SAACzL,GAChE,OAAOA,IAAO6N,EAAO7O,UAEvB,OAAO,2BACF8G,GADL,IAEEwC,aAAa,2BACRxC,EAAMwC,cADC,mBAETxC,EAAMyC,UAFG,aAEaqM,OAG7B,KAAKtX,EAEL,KAAKD,EAEL,KAAKhB,EACH,OAAO4X,GAAYnO,EAAO+H,GAC5B,QACE,OAAO/H,MCvPb,IAAMkP,GCHS,SAAwBC,GACrC,IAAMC,ECNiB,WACvB,IACE,IAAMC,EAAkBjU,aAAaqB,QAAQ,SAC7C,GAAwB,OAApB4S,EACF,OAEF,OAAOC,KAAKC,MAAMF,GAClB,MAAOrT,GACP,QDFqBwT,GACjBC,EAAmBC,+BAAoB,CAAEC,OAAO,IACtD,OAAOC,uBACLpB,GACAY,EACAK,EAAiBI,2BAAgBC,QDHvBC,GACRnN,GAAUoN,cAChBC,IAASnD,OACP,cAAC,IAAMoD,WAAP,UACE,cAAC,IAAD,CAAUhB,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAQtM,QAASA,GAAjB,SACE,cAAC,IAAD,CAAOuN,UAAWC,WAIxBnK,SAASoK,eAAe,W","file":"static/js/main.d6ea8054.chunk.js","sourcesContent":["import { schema } from \"normalizr\";\r\nexport const comment = new schema.Entity(\r\n  \"comments\",\r\n  {},\r\n  { idAttribute: \"_id\" }\r\n);\r\ncomment.define({\r\n  comments: [comment],\r\n});\r\nexport const post = new schema.Entity(\r\n  \"posts\",\r\n  {\r\n    comments: [comment],\r\n  },\r\n  { idAttribute: \"_id\" }\r\n);\r\n","export const REQUEST_POSTS = \"REQUEST_POSTS\";\r\nexport const RECEIVE_POSTS = \"RECEIVE_POSTS\";\r\nexport const REQUEST_SINGLE_POST = \"REQUEST_SINGLE_POST\";\r\nexport const RECEIVE_SINGLE_POSTS = \"RECEIVE_SINGLE_POSTS\";\r\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\r\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\r\nexport const SIGNUP_ERROR = \"SIGNUP_ERROR\";\r\nexport const CURRENT_USER = \"CURRENT_USER\";\r\nexport const POST_CREATION_CHANGE_SUBMISSION_TYPE =\r\n  \"POST_CREATION_CHANGE_SUBMISSION_TYPE\";\r\nexport const NEW_POST_SUCCESS = \"NEW_POST_SUCCESS\";\r\nexport const NEW_POST_REQUEST = \"NEW_POST_REQUEST\";\r\nexport const RESET_POST = \"RESET_POST\";\r\nexport const NEW_COMMENT_REQUEST = \"NEW_COMMENT_REQUEST\";\r\nexport const NEW_COMMENT_SUCCESS = \"NEW_COMMENT_SUCCESS\";\r\nexport const CHANGE_TO_MEDIA = \"CHANGE_TO_MEDIA\";\r\nexport const NEW_REPLY_REQUEST = \"NEW_REPLY_REQUEST\";\r\nexport const NEW_REPLY_SUCCESS = \"NEW_REPLY_SUCCESS\";\r\nexport const VOTE_CAST = \"VOTE_CAST\";\r\nexport const NEXT_PAGE = \"NEXT_PAGE\";\r\nexport const PREV_PAGE = \"PREV_PAGE\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\nexport const EDIT_POST = \"EDIT_POST\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\nexport const CLEAR_ERROR = \"CLEAR_ERROR\";\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\r\nexport const SET_POST_MODAL = \"SET_POST_MODAL\";\r\nexport const SPLICED_POST = \"SPLICED_POST\";\r\nexport const REFRESH_USER = \"REFRESH_USER\";\r\nexport const SET_POST = \"SET_POST\";\r\nexport const UNAUTHORIZED_ERROR = \"UNAUTHORIZED_ERROR\";\r\nexport const SORT_POSTS = \"SORT_POSTS\";\r\nexport const SORT_POSTS_REQUEST = \"SORT_POSTS_REQUEST\";\r\nexport const GET_SINGLE_POST = \"GET_SINGLE_POST\";\r\nexport const CLEAR_LOGIN_MODAL = \"CLEAR_LOGIN_MODAL\";\r\nexport const REQUEST_USER_INFO = \"REQUEST_USER_INFO\";\r\nexport const DARK_MODE_ENABLED = \"DARK_MODE_ENABLED\";\r\nexport const DARK_MODE_DISABLED = \"DARK_MODE_DISABLED\";\r\n","import axios from \"axios\";\r\nimport { normalize } from \"normalizr\";\r\nimport { post } from \"../schemas\";\r\nimport {\r\n  DELETE_POST,\r\n  EDIT_POST,\r\n  NEW_POST_REQUEST,\r\n  NEW_POST_SUCCESS,\r\n  NEXT_PAGE,\r\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\r\n  PREV_PAGE,\r\n  RECEIVE_POSTS,\r\n  RECEIVE_SINGLE_POSTS,\r\n  REQUEST_POSTS,\r\n  REQUEST_SINGLE_POST,\r\n  RESET_POST,\r\n  SET_POST,\r\n  SET_POST_MODAL,\r\n  SORT_POSTS,\r\n  VOTE_CAST,\r\n} from \"../types\";\r\nfunction requestPosts(e) {\r\n  return {\r\n    type: REQUEST_POSTS,\r\n    e,\r\n  };\r\n}\r\nfunction submitPostSuccess(post) {\r\n  let id = post._id;\r\n  post[\"newPost\"] = true;\r\n  return (dispatch) => {\r\n    dispatch({ type: NEW_POST_SUCCESS, post, id });\r\n  };\r\n}\r\nexport function newPostSubmissionType(postType) {\r\n  return (dispatch) => {\r\n    dispatch({ type: POST_CREATION_CHANGE_SUBMISSION_TYPE, postType });\r\n  };\r\n}\r\nexport function changePostSubmissionType(postType) {\r\n  return (dispatch, getState) => {\r\n    let currentValue = getState().changeNewSubmissionType.submissionType;\r\n    if (postType === currentValue) {\r\n      return;\r\n    } else {\r\n      dispatch({\r\n        type: POST_CREATION_CHANGE_SUBMISSION_TYPE,\r\n        postType,\r\n      });\r\n    }\r\n  };\r\n}\r\nexport function changePoint(point, postId) {\r\n  return (dispatch, getState) => {\r\n    let currentPostId = postId;\r\n    let currentPost = getState().posts.byId[currentPostId];\r\n    let currentVoteState = currentPost.voteState;\r\n    dispatch({\r\n      type: VOTE_CAST,\r\n      postId,\r\n      point,\r\n      currentVoteState,\r\n    });\r\n    if (point === 1) {\r\n      return axios({\r\n        url: `/api/posts/vote-up/${currentPostId}`,\r\n        method: \"PUT\",\r\n        withCredentials: true,\r\n      });\r\n    }\r\n    if (point === -1) {\r\n      return axios({\r\n        url: `/api/posts/vote-down/${currentPostId}`,\r\n        method: \"PUT\",\r\n        withCredentials: true,\r\n      });\r\n    }\r\n  };\r\n}\r\nexport function setPostModal(post) {\r\n  return {\r\n    type: SET_POST_MODAL,\r\n    post,\r\n  };\r\n}\r\nexport function submitPostAttempt() {\r\n  return {\r\n    type: NEW_POST_REQUEST,\r\n  };\r\n}\r\nexport function submitPost(form) {\r\n  return (dispatch) => {\r\n    return axios({\r\n      url: `/api/post/new/`,\r\n      method: \"POST\",\r\n      data: form,\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        dispatch(submitPostSuccess(res.data));\r\n      }\r\n    });\r\n  };\r\n}\r\nfunction requestSinglePost() {\r\n  return {\r\n    type: REQUEST_SINGLE_POST,\r\n  };\r\n}\r\nexport function reset() {\r\n  return {\r\n    type: RESET_POST,\r\n  };\r\n}\r\nfunction getNormalizeData(myData, params) {\r\n  const normalizedData = normalize(myData.posts, [post]);\r\n  return normalizedData;\r\n}\r\nexport function sortPosts() {}\r\nexport function deletePost(postId, params) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: DELETE_POST,\r\n      postId,\r\n      params: params ? params : \"default\",\r\n    });\r\n    return axios({\r\n      url: `/api/delete/${postId}`,\r\n      method: \"DELETE\",\r\n      withCredentials: true,\r\n    });\r\n  };\r\n}\r\nexport function editPost(postId, content) {\r\n  return (dispatch) => {\r\n    dispatch({ type: EDIT_POST, postId, content });\r\n    return axios({\r\n      url: `/api/edit/${postId}`,\r\n      method: \"PUT\",\r\n      withCredentials: true,\r\n      data: {\r\n        content: content,\r\n      },\r\n    });\r\n  };\r\n}\r\nexport function fetchPosts(query, id, params, e) {\r\n  return (dispatch) => {\r\n    dispatch(requestPosts(e));\r\n    axios({\r\n      url: `/api/posts/${params && params.sort ? params.sort : \"\"}${\r\n        query ? `?${query}=${id}` : \"\"\r\n      }`,\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      const normalizedData = getNormalizeData(\r\n        { posts: res.data.posts },\r\n        params\r\n      );\r\n      dispatch({\r\n        type:\r\n          params && params.sort && e === \"click\" ? SORT_POSTS : RECEIVE_POSTS,\r\n        normalizedData,\r\n        offset: res.data.offset,\r\n        sort: params && params.sort ? params.sort : \"default\",\r\n      });\r\n    });\r\n  };\r\n}\r\nexport function prevPage(id, params) {\r\n  return (dispatch) => {\r\n    dispatch(requestPosts());\r\n    return new Promise((resolve) => {\r\n      axios({\r\n        url: `/api/posts/${\r\n          params.length > 0 ? params : \"\"\r\n        }?page[size]=${10}&before=${id}`,\r\n        method: \"GET\",\r\n        withCredentials: true,\r\n      }).then((res) => {\r\n        if (res.status === 200) {\r\n          const normalizedData = getNormalizeData(\r\n            { posts: res.data.posts },\r\n            params\r\n          );\r\n          dispatch({\r\n            type: PREV_PAGE,\r\n            normalizedData,\r\n            offset: res.data.offset,\r\n            sort: params.sort ? params.sort : \"default\",\r\n          });\r\n          resolve(\"completed\");\r\n        }\r\n      });\r\n    });\r\n  };\r\n}\r\nexport function nextPage(id, params) {\r\n  return (dispatch) => {\r\n    dispatch(requestPosts());\r\n    return new Promise((resolve) => {\r\n      axios({\r\n        url: `/api/posts/${\r\n          params && params.sort ? params.sort : \"\"\r\n        }?page[size]=${10}&after=${id}`,\r\n        method: \"GET\",\r\n        withCredentials: true,\r\n      }).then((res) => {\r\n        if (res.status === 200) {\r\n          const normalizedData = getNormalizeData(\r\n            { posts: res.data.posts },\r\n            params\r\n          );\r\n          dispatch({\r\n            type: NEXT_PAGE,\r\n            normalizedData,\r\n            offset: res.data.offset,\r\n            sort: params.sort ? params.sort : \"default\",\r\n          });\r\n          resolve(\"completed\");\r\n        }\r\n      });\r\n    });\r\n  };\r\n}\r\nexport function setPostRange(before, after) {\r\n  return { type: SET_POST, before, after };\r\n}\r\nexport function fetchSinglePost(id) {\r\n  return (dispatch) => {\r\n    dispatch(requestSinglePost());\r\n    return axios({\r\n      url: `/api/post/${id}`,\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      const normalizedData = getNormalizeData({ posts: [res.data] });\r\n      dispatch({ normalizedData, type: RECEIVE_SINGLE_POSTS });\r\n    });\r\n  };\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  CLEAR_LOGIN_MODAL,\r\n  CURRENT_USER,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOG_OUT,\r\n  REQUEST_USER_INFO,\r\n  SIGNUP_ERROR,\r\n  SIGNUP_REQUEST,\r\n  SIGNUP_SUCCESS,\r\n  UNAUTHORIZED_ERROR,\r\n} from \"../types\";\r\nlet retryCount = 0;\r\naxios.interceptors.request.use((config) => {\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  if (accessToken) {\r\n    config.headers[\"Authorization\"] = `Bearer ${accessToken}`;\r\n  }\r\n  return config;\r\n});\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n  function (err) {\r\n    const originalRequest = err.config;\r\n    if (\r\n      (err.response.status === 401 || err.response.status === 403) &&\r\n      !originalRequest._retry &&\r\n      retryCount <= 2 &&\r\n      err.config.url !== \"/api/refresh\"\r\n    ) {\r\n      retryCount = retryCount + 1;\r\n      originalRequest._retry = true;\r\n      axios({\r\n        url: \"/api/refresh\",\r\n        method: \"POST\",\r\n        withCredentials: true,\r\n      }).then((data) => {\r\n        if (data.data) {\r\n          localStorage.setItem(\"accessToken\", data.data.jwt_token);\r\n          axios.defaults.headers.common[\"Authorization\"] =\r\n            \"Bearer \" + data.jwt_token;\r\n          originalRequest.headers[\"Authorization\"] =\r\n            \"Bearer \" + data.data.jwt_token;\r\n          return axios(originalRequest);\r\n        }\r\n      });\r\n    } else {\r\n      return Promise.reject(err);\r\n    }\r\n  }\r\n);\r\nfunction loginRequest() {\r\n  return {\r\n    type: LOGIN_REQUEST,\r\n  };\r\n}\r\nfunction loginSuccess(username, id) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      username,\r\n      id,\r\n    });\r\n    Promise.resolve(\"success\");\r\n  };\r\n}\r\nexport function logOut() {\r\n  return (dispatch) => {\r\n    return axios({\r\n      url: \"/api/logout\",\r\n      withCredentials: true,\r\n      method: \"POST\",\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        localStorage.removeItem(\"accessToken\");\r\n        return res;\r\n      }\r\n    });\r\n  };\r\n}\r\nfunction unauthorized() {\r\n  return {\r\n    type: UNAUTHORIZED_ERROR,\r\n  };\r\n}\r\nexport function login(username, password) {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    return axios({\r\n      withCredentials: true,\r\n      method: \"POST\",\r\n      data: {\r\n        username: username,\r\n        password: password,\r\n      },\r\n      url: \"/api/login\",\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(loginSuccess(res.data.username, res.data._id));\r\n          let token = res.data.jwt_token;\r\n          return token;\r\n        }\r\n      })\r\n      .then((token) => {\r\n        localStorage.setItem(\"accessToken\", token);\r\n        return \"login\";\r\n      })\r\n      .catch(() => {\r\n        dispatch(unauthorized());\r\n      });\r\n  };\r\n}\r\nexport function clearLoginModal() {\r\n  return {\r\n    type: CLEAR_LOGIN_MODAL,\r\n  };\r\n}\r\nexport function loggedIn() {\r\n  const token = localStorage.getItem(\"accessToken\");\r\n  return async (dispatch) => {\r\n    if (!token) {\r\n      return \"completed\";\r\n    }\r\n    dispatch({ type: REQUEST_USER_INFO });\r\n    const data = await axios({\r\n      withCredentials: true,\r\n      method: \"GET\",\r\n      url: \"/api/logged-in\",\r\n    });\r\n    try {\r\n      dispatch({\r\n        type: CURRENT_USER,\r\n        username: data.data.username,\r\n        user: data.data._id,\r\n      });\r\n      return \"completed\";\r\n    } catch (error) {\r\n      dispatch(logOut());\r\n    }\r\n  };\r\n}\r\nexport function signupRequest() {\r\n  return {\r\n    type: SIGNUP_REQUEST,\r\n  };\r\n}\r\nfunction signupSuccess() {\r\n  return {\r\n    type: SIGNUP_SUCCESS,\r\n  };\r\n}\r\nexport function signup(username, password, passwordConfirm) {\r\n  return (dispatch) => {\r\n    dispatch({ type: SIGNUP_REQUEST });\r\n    return axios({\r\n      url: \"/api/signup\",\r\n      data: {\r\n        username,\r\n        password,\r\n        passwordConfirm,\r\n      },\r\n      method: \"POST\",\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(signupSuccess());\r\n          return \"signup\";\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        let error = err.response.data;\r\n        let passwordError;\r\n        if (password !== passwordConfirm) {\r\n          passwordError = \"Passwords do not match\";\r\n        }\r\n        dispatch({ type: SIGNUP_ERROR, error, passwordError });\r\n      });\r\n  };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/image-placeholder.1c6a32aa.svg\";","export default __webpack_public_path__ + \"static/media/link-post.cdb86b79.svg\";","export default __webpack_public_path__ + \"static/media/reddit-default.f7d549ef.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-516.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow-copy\",\n  transform: \"translate(72.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgDownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow copy\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownArrow);\nexport default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-444.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow\",\n  transform: \"translate(6.500000, 8.000000) scale(1, -1) translate(-6.500000, -8.000000) translate(0.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgUpArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpArrow);\nexport default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";\nexport { ForwardRef as ReactComponent };","import DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { deletePost, fetchSinglePost } from \"../actions/postActions\";\r\nimport { ReactComponent as DownArrow } from \"../images/down-arrow.svg\";\r\nimport { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\r\nconst Post = ({ post }) => {\r\n  const [deleteButton, setDelete] = useState(false);\r\n  const [, setActive] = useState(true);\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const postStore = useSelector((state) => {\r\n    return state.posts.allIds;\r\n  });\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const currentUser = useSelector((state) => state.currentUser._id);\r\n  const postStatus = useSelector((state) => state.listings.status);\r\n  const handleDelete = () => {\r\n    setDelete(!deleteButton);\r\n  };\r\n  const confirmedDelete = (postId) => {\r\n    dispatch(deletePost(postId, params.sort === \"post\" ? null : params));\r\n    setActive(false);\r\n  };\r\n  if (!postStore[0]) {\r\n    return <div></div>;\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        key={post._id}\r\n        className={`card-container ${\r\n          checkDisplay === \"dark\" ? \"dark-mode-card\" : \"\"\r\n        } `}\r\n      >\r\n        <div\r\n          className={`card-content-container ${\r\n            postStatus === \"loading\" ? \"content-loading-mask\" : \"\"\r\n          }`}\r\n        >\r\n          <p className={\"card-author\"}>u/{post.author.username}</p>\r\n          <h4 className=\"card-title\">\r\n            <Link\r\n              onClick={() => {\r\n                dispatch(fetchSinglePost(post._id));\r\n              }}\r\n              to={{\r\n                pathname: `/post/${post._id}`,\r\n                state: {\r\n                  modal: true,\r\n                },\r\n              }}\r\n            >\r\n              {post.title}\r\n            </Link>\r\n          </h4>\r\n          <div className=\"vote-container\">\r\n            <li>\r\n              <UpArrow\r\n                className={\r\n                  post.voteState === 1\r\n                    ? `home-vote-color`\r\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </li>\r\n            <li>{post.voteTotal}</li>\r\n            <li>\r\n              <DownArrow\r\n                className={\r\n                  post.voteState === -1\r\n                    ? `home-vote-color`\r\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </li>\r\n          </div>\r\n        </div>\r\n        {currentUser === post.author._id ? (\r\n          <div className=\"edit-del-container\">\r\n            <div className=\"edit-del-content\">\r\n              {deleteButton ? (\r\n                <div className=\"delete-confirm-container\">\r\n                  <div>\r\n                    <p className=\"delete-confirm\">Delete?</p>\r\n                  </div>\r\n                  <li\r\n                    onClick={() => confirmedDelete(post._id)}\r\n                    className=\"delete-button-yes\"\r\n                  >\r\n                    Yes\r\n                  </li>\r\n                  <li className=\"delete-button-slash\">/</li>\r\n                  <li className=\"delete-button-yes\">No</li>\r\n                </div>\r\n              ) : null}\r\n              <button onClick={handleDelete} className=\"delete-button\">\r\n                <DeleteIcon className=\"del-svg\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../actions/userActions\";\r\nconst Login = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const user = useSelector((state) => {\r\n    return state.login.isLoggedIn;\r\n  });\r\n  const error = useSelector((state) => {\r\n    return state.login.err;\r\n  });\r\n  const handleLogin = (e) => {\r\n    if (e.key === \"Enter\" || e.type === \"click\") {\r\n      dispatch(login(username, password)).then((x) => {\r\n        if (x === \"login\") {\r\n          window.location.reload();\r\n        }\r\n      });\r\n    }\r\n  };\r\n  if (user) {\r\n  }\r\n  return (\r\n    <div className=\"login-modal-wrapper\">\r\n      <div\r\n        className={`login-card-modal ${\r\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"login-modal-title-exit-container\">\r\n          <p\r\n            className={`login-modal-title ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            Login\r\n          </p>\r\n          <button\r\n            onClick={props.close}\r\n            className={`login-cancel-button ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            X\r\n          </button>\r\n        </div>\r\n        <div className=\"login-input-container\">\r\n          <input\r\n            onChange={(e) => {\r\n              setUsername(e.target.value);\r\n            }}\r\n            className={`login-input ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n            }`}\r\n            placeholder=\"username\"\r\n            type=\"text\"\r\n          />\r\n          <input\r\n            onKeyDown={handleLogin}\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n            className={`login-input ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n            }`}\r\n            placeholder=\"password\"\r\n            type=\"password\"\r\n          />{\" \"}\r\n          <p className={`signup-error`}>{error}</p>\r\n          <button onClick={handleLogin} className=\"login-button\">\r\n            Log in\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { signup, signupRequest } from \"../actions/userActions\";\r\nimport { CLEAR_ERROR } from \"../types\";\r\nimport Login from \"./Login\";\r\nconst Signup = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => {\r\n    return state.login.isLoggedIn;\r\n  });\r\n  const error = useSelector((state) => {\r\n    return state.signup.err;\r\n  });\r\n  const passwordError = useSelector((state) => {\r\n    return state.signup.passwordError;\r\n  });\r\n  const handleSignup = () => {\r\n    dispatch(signup(username, password, passwordConfirm)).then((res) => {\r\n      if (res === \"signup\") {\r\n        <Redirect to={Login}></Redirect>;\r\n      }\r\n    });\r\n  };\r\n  const handleError = () => {\r\n    dispatch({ type: CLEAR_ERROR });\r\n  };\r\n  if (user) {\r\n    window.location.reload();\r\n  }\r\n  useEffect(() => {\r\n    dispatch(signupRequest());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className=\"login-modal-wrapper\">\r\n      <div\r\n        className={`login-card-modal ${\r\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"login-modal-title-exit-container\">\r\n          <p\r\n            className={`login-modal-title ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            Sign up\r\n          </p>\r\n          <button\r\n            onClick={props.close}\r\n            className={`login-cancel-button ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            X\r\n          </button>\r\n        </div>\r\n        <div className=\"login-input-container\">\r\n          <input\r\n            onChange={(e) => {\r\n              setUsername(e.target.value);\r\n            }}\r\n            onClick={handleError}\r\n            className={`login-input ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n            }`}\r\n            placeholder=\"username\"\r\n            type=\"text\"\r\n          />\r\n          <p className={`signup-error`}>{error}</p>\r\n          <input\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n            className={`login-input ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n            }`}\r\n            placeholder=\"password\"\r\n            type=\"password\"\r\n          />\r\n          <p className={`signup-error`}>{passwordError}</p>\r\n          <input\r\n            onChange={(e) => {\r\n              setPasswordConfirm(e.target.value);\r\n            }}\r\n            className={`login-input ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n            }`}\r\n            placeholder=\"Confirm your password\"\r\n            type=\"password\"\r\n          />\r\n          <button onClick={handleSignup} className=\"login-button\">\r\n            Sign up\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Signup;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useParams, useLocation } from \"react-router-dom\";\r\nimport {\r\n  fetchPosts,\r\n  fetchSinglePost,\r\n  newPostSubmissionType,\r\n  nextPage,\r\n  submitPostAttempt,\r\n} from \"../actions/postActions\";\r\nimport imagePost from \"../images/image-placeholder.svg\";\r\nimport linkPost from \"../images/link-post.svg\";\r\nimport defaultPic from \"../images/reddit-default.svg\";\r\nimport Post from \"./Post\";\r\nimport Signup from \"./Signup\";\r\nfunction Home(props) {\r\n  const dispatch = useDispatch();\r\n  const allPosts = useSelector((state) => {\r\n    return state.posts.byId;\r\n  });\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const location = useLocation();\r\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\r\n  const postStatus = useSelector((state) => state.posts.status);\r\n  const params = useParams();\r\n  const listingOrder = useSelector((state) => state.listings.listingOrder);\r\n  const sortOrder = useSelector((state) => state.listings.sortOrder);\r\n  const currentIds = listingOrder[sortOrder];\r\n  let queryParams = props.history.location.search;\r\n  const offSetId = useSelector((state) => {\r\n    return state.posts.offset;\r\n  });\r\n  let after = new URLSearchParams(queryParams).get(\"after\");\r\n  let before = new URLSearchParams(queryParams).get(\"before\");\r\n  let query = (after && \"after\") || (before && \"before\");\r\n  let id = after || before;\r\n  let postsToDisplay;\r\n  if (currentIds) {\r\n    postsToDisplay = currentIds.map((id) => {\r\n      return allPosts[id];\r\n    });\r\n  }\r\n  const bottomRef = useCallback(\r\n    (node) => {\r\n      const options = {\r\n        threshold: [0],\r\n      };\r\n      let shouldFetch = true;\r\n      var observer = new IntersectionObserver(function (entries, observer) {\r\n        if (entries[0].intersectionRatio > 0 && shouldFetch && offSetId) {\r\n          observer.disconnect();\r\n          dispatch(nextPage(offSetId, params)).then((status) => {\r\n            shouldFetch = false;\r\n            if (status === \"completed\") {\r\n              observer.observe(node);\r\n            }\r\n          });\r\n        }\r\n      }, options);\r\n      if (postsToDisplay.length > 0 && node && params.sort !== \"post\") {\r\n        observer.observe(node);\r\n      } else {\r\n        observer.disconnect();\r\n      }\r\n    },\r\n    [offSetId]\r\n  );\r\n  useEffect(() => {\r\n    const splitUrl = location.pathname.split(\"/\");\r\n    if (params.sort === \"post\") {\r\n      dispatch(fetchSinglePost(splitUrl[2]));\r\n      dispatch(fetchPosts(query, id, params.sort === \"post\" ? null : params));\r\n    } else {\r\n      dispatch(fetchPosts(query, id, params.sort === \"post\" ? null : params));\r\n    }\r\n  }, []);\r\n  let listing = listingOrder[sortOrder];\r\n  const handlePostType = (type) => {\r\n    if (!loggedIn) {\r\n      props.handleShowLogin();\r\n    }\r\n    dispatch(newPostSubmissionType(type));\r\n    dispatch(submitPostAttempt());\r\n  };\r\n  if (!listing) {\r\n    return <div></div>;\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        className={`home-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\r\n      >\r\n        {props.showSignup ? <Signup /> : null}\r\n        <div\r\n          className={`new-post-container ${\r\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n          }`}\r\n        >\r\n          <Link to=\"\">\r\n            <img\r\n              className={`new-post-profile-image ${\r\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n              }`}\r\n              src={defaultPic}\r\n              alt=\"\"\r\n            />\r\n          </Link>\r\n          <Link\r\n            onClick={() => handlePostType(\"post\")}\r\n            to={loggedIn ? \"/new-post\" : \"\"}\r\n            className=\"new-post-input-container\"\r\n          >\r\n            <input\r\n              placeholder=\"Create Post\"\r\n              className={`new-post-input ${\r\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n              }`}\r\n              type=\"text\"\r\n            />\r\n          </Link>\r\n          <Link\r\n            onClick={() => handlePostType(\"media\")}\r\n            to={loggedIn ? \"/new-post?media=true\" : \"\"}\r\n          >\r\n            <img className=\"post-option\" src={imagePost} alt=\"\" />\r\n          </Link>\r\n          <Link\r\n            onClick={() => handlePostType(\"link\")}\r\n            to={loggedIn ? \"/new-post?link=true\" : \"\"}\r\n          >\r\n            <img className=\"post-option\" src={linkPost} alt=\"\" />\r\n          </Link>\r\n        </div>\r\n        <div\r\n          className={`categories-container ${\r\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n          }`}\r\n        >\r\n          <Link\r\n            to=\"/hot\"\r\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\r\n            onClick={() =>\r\n              dispatch(fetchPosts(query, id, { sort: \"hot\" }, \"click\"))\r\n            }\r\n          >\r\n            Hot\r\n          </Link>\r\n          <Link\r\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\r\n            to=\"/new\"\r\n            onClick={() =>\r\n              dispatch(fetchPosts(query, id, { sort: \"new\" }, \"click\"))\r\n            }\r\n          >\r\n            New\r\n          </Link>\r\n          <Link\r\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\r\n            to=\"/top\"\r\n            onClick={() =>\r\n              dispatch(fetchPosts(query, id, { sort: \"top\" }, \"click\"))\r\n            }\r\n          >\r\n            Top\r\n          </Link>\r\n        </div>\r\n        <div className={\"posts-container\"}>\r\n          {postsToDisplay.map((post) => {\r\n            if (post) {\r\n              return (\r\n                <Post\r\n                  pastParams={props.match}\r\n                  history={props}\r\n                  key={post._id}\r\n                  post={post}\r\n                />\r\n              );\r\n            }\r\n          })}\r\n          <div className=\"page-set-container\"></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"loading-container\">\r\n        <div\r\n          className={postStatus === \"loading\" ? \"lds-dual-ring\" : \"inactive\"}\r\n        ></div>\r\n      </div>\r\n      <span ref={bottomRef}></span>\r\n    </>\r\n  );\r\n}\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/magnifying-glass.4af3fe67.svg\";","export default __webpack_public_path__ + \"static/media/Triangle.145cb339.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { fetchPosts } from \"../actions/postActions\";\r\nimport { logOut } from \"../actions/userActions\";\r\nimport searchicon from \"../images/magnifying-glass.svg\";\r\nimport defaultPic from \"../images/reddit-default.svg\";\r\nimport triangle from \"../images/Triangle.svg\";\r\nimport { DARK_MODE_ENABLED, DARK_MODE_DISABLED } from \"../types\";\r\nimport Brightness2OutlinedIcon from \"@material-ui/icons/Brightness2Outlined\";\r\nfunction Navbar(props) {\r\n  const [dropdown, setDropDown] = useState(false);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [authDropDown, setAuthDropDown] = useState(false);\r\n  const [searchContent, setSearchContent] = useState([]);\r\n  const [searchActive, setSearchActive] = useState(false);\r\n  const currentUser = useSelector((state) => {\r\n    return state.currentUser;\r\n  });\r\n  const loggedIn = useSelector((state) => {\r\n    return state.login.isLoggedIn;\r\n  });\r\n  const currentModal = useSelector((state) => {\r\n    return state.currentModal;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const allIds = useSelector((state) => {\r\n    return state.posts.allIds;\r\n  });\r\n  const post = useSelector((state) => {\r\n    return state.posts.byId;\r\n  });\r\n  let flattened = allIds.map((x) => {\r\n    return post[x];\r\n  });\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const handleDropDown = () => {\r\n    setDropDown(!dropdown);\r\n  };\r\n  const handleDarkMode = () => {\r\n    dispatch({\r\n      type: checkDisplay === \"dark\" ? DARK_MODE_DISABLED : DARK_MODE_ENABLED,\r\n    });\r\n  };\r\n  let value;\r\n  const handleSearchContent = async (e) => {\r\n    setSearchInput(e.target.value);\r\n    value = e.target.value;\r\n    let trimmed = await value.trimStart();\r\n    let filtered = await flattened.filter((post) => {\r\n      const regex = new RegExp(`^` + trimmed, \"gi\");\r\n      return regex.test(post.title);\r\n    });\r\n    setSearchContent(filtered);\r\n  };\r\n  const handleCloseSearch = () => {\r\n    setSearchActive(!searchActive);\r\n  };\r\n  const handleLogout = () => {\r\n    dispatch(logOut()).then((data) => {\r\n      if (data.status === 200) {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n  let re = /^\\s+(?=[a-z0-9])|^[a-z0-9]/g;\r\n  const closeSearch = () => {\r\n    if (searchActive) {\r\n      setSearchActive(false);\r\n    }\r\n  };\r\n  const handleLogoClick = () => {\r\n    document.body.style.overflow = \"\";\r\n    if (currentModal.post.newPost) {\r\n    }\r\n    if (props.match.path === \"/\") {\r\n      dispatch(fetchPosts());\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    document.title = \"Readit\";\r\n    document.body.addEventListener(\"click\", closeSearch);\r\n    return () => {\r\n      document.body.removeEventListener(\"click\", closeSearch);\r\n    };\r\n  }, [closeSearch]);\r\n  return (\r\n    <>\r\n      <div className={`navbar-wrapper `}>\r\n        <div\r\n          className={`navbar-container ${\r\n            checkDisplay === \"dark\" ? \"dark-mode-nav\" : \"\"\r\n          } `}\r\n        >\r\n          <div className=\"navbar-content\">\r\n            <li>\r\n              <Link\r\n                to={{ pathname: \"/\" }}\r\n                replace={props.history.location.pathname === \"/\" ? true : false}\r\n                onClick={handleLogoClick}\r\n                className=\"logo\"\r\n              >\r\n                readit\r\n              </Link>\r\n            </li>\r\n            <div className={\"search-bar-container\"}>\r\n              <input\r\n                onClick={handleCloseSearch}\r\n                onChange={(e) => handleSearchContent(e)}\r\n                className={`search-bar ${\r\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n                } `}\r\n                placeholder=\"Search\"\r\n                type=\"text\"\r\n              />\r\n              <span className=\"search-icon\">\r\n                <img src={searchicon} alt=\"\" />\r\n              </span>\r\n              <div\r\n                onClick={(e) => handleCloseSearch(e)}\r\n                className={`${\r\n                  searchActive\r\n                    ? `search-dropdown-container ${\r\n                        checkDisplay === \"dark\"\r\n                          ? \"dark-mode-search-dropdown\"\r\n                          : \"\"\r\n                      }`\r\n                    : \"inactive\"\r\n                }`}\r\n              >\r\n                {re.test(searchInput)\r\n                  ? searchContent.map((post) => {\r\n                      return (\r\n                        <>\r\n                          {\" \"}\r\n                          <div\r\n                            className={`search-dropdown-content ${\r\n                              !searchActive ? `hide-search` : null\r\n                            } `}\r\n                            key={post._id}\r\n                          >\r\n                            <Link\r\n                              className={`search-content-item ${\r\n                                checkDisplay === \"dark\"\r\n                                  ? \"dark-mode-dropdown-item\"\r\n                                  : \"\"\r\n                              }`}\r\n                              to={`/post/${post._id}`}\r\n                            >\r\n                              {post.title}\r\n                            </Link>\r\n                          </div>\r\n                        </>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </div>\r\n            </div>\r\n            {!loggedIn ? (\r\n              <>\r\n                <Brightness2OutlinedIcon\r\n                  className={\r\n                    checkDisplay === \"dark\"\r\n                      ? \"outline-visible\"\r\n                      : \"brightness-icon\"\r\n                  }\r\n                  onClick={handleDarkMode}\r\n                />\r\n                <div className=\"auth-button-container-navbar\">\r\n                  <button\r\n                    className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\r\n                    onClick={props.handleShowLogin}\r\n                  >\r\n                    log in\r\n                  </button>\r\n                  <button onClick={props.handleShowSignup}>sign up</button>\r\n                </div>\r\n                <div className=\"hamburger-container\">\r\n                  <div className=\"hamburger-button-container\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"trigger\"\r\n                      className={\"burger-input\"}\r\n                    />\r\n                    <label\r\n                      htmlFor=\"trigger\"\r\n                      className={`burger-label ${\r\n                        checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\r\n                      } `}\r\n                    >\r\n                      <div className={\"main-trigger-icon-container\"}>\r\n                        <span className={\"main-trigger-icon\"}></span>\r\n                      </div>\r\n                    </label>\r\n                    <div className=\"hamburger-item-container\">\r\n                      <li\r\n                        className={`hamburger-item ${\r\n                          checkDisplay === \"dark\"\r\n                            ? \"dark-mode-dropdown-item\"\r\n                            : \"\"\r\n                        } `}\r\n                      >\r\n                        <button\r\n                          className=\"hamburger-item-button\"\r\n                          onClick={props.handleShowLogin}\r\n                        >\r\n                          log in\r\n                        </button>\r\n                      </li>\r\n                      <li\r\n                        className={`hamburger-item ${\r\n                          checkDisplay === \"dark\"\r\n                            ? \"dark-mode-dropdown-item\"\r\n                            : \"\"\r\n                        } `}\r\n                      >\r\n                        <button\r\n                          className=\"hamburger-item-button\"\r\n                          onClick={props.handleShowSignup}\r\n                        >\r\n                          sign up\r\n                        </button>\r\n                      </li>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Brightness2OutlinedIcon\r\n                  className={\r\n                    checkDisplay === \"dark\"\r\n                      ? \"outline-visible\"\r\n                      : \"brightness-icon\"\r\n                  }\r\n                  onClick={handleDarkMode}\r\n                />\r\n                <div className=\"profile-wrapper\">\r\n                  <button\r\n                    onClick={() => handleDropDown()}\r\n                    className={`navbar-profile-container ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"navbar-logo-text\">\r\n                      <img\r\n                        className={`default-profile-image ${\r\n                          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n                        }`}\r\n                        style={{ backgroundColor: \"rgba(0, 0, 0, 0.1)\" }}\r\n                        src={defaultPic}\r\n                        alt=\"\"\r\n                      />\r\n                      <p\r\n                        className={`navbar-profile-username ${\r\n                          checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n                        }`}\r\n                      >\r\n                        {currentUser.username}\r\n                      </p>\r\n                    </div>\r\n                    <img\r\n                      className=\"navbar-profile-triangle\"\r\n                      src={triangle}\r\n                      alt=\"\"\r\n                    />\r\n                  </button>\r\n                  {dropdown ? (\r\n                    <div className=\"navbar-dropdown-container\">\r\n                      <ul className=\"navbar-dropdown\">\r\n                        <li>\r\n                          <button\r\n                            onClick={handleLogout}\r\n                            className={`navbar-dropdown-options ${\r\n                              checkDisplay === \"dark\"\r\n                                ? \"navbar-dropdown-options-dark\"\r\n                                : \"\"\r\n                            }`}\r\n                          >\r\n                            Logout\r\n                          </button>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(Navbar);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { changePostSubmissionType, submitPost } from \"../actions/postActions\";\r\nimport { loggedIn, loginStatus } from \"../actions/userActions\";\r\nconst NewPost = () => {\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n  };\r\n  let query = useQuery();\r\n  let newQuery = query.get(\"media\");\r\n  let newQuery2 = query.get(\"link\");\r\n  let submissionType = useSelector((state) => {\r\n    return state.changeNewSubmissionType.submissionType;\r\n  });\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  const [imagedata, setImage] = useState(\"\");\r\n  const submitCheck = useSelector((state) => {\r\n    return state.posts.submitted;\r\n  });\r\n  const fetchingLogin = useSelector((state) => state.login.fetching);\r\n  const loggedInStatus = useSelector((state) => state.login.isLoggedIn);\r\n  const reRouteId = useSelector((state) => {\r\n    return state.posts.reRouteId;\r\n  });\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  useEffect(() => {}, []);\r\n  useEffect(() => {\r\n    if (newQuery) {\r\n      submissionType = \"media\";\r\n    } else if (newQuery2) {\r\n      submissionType = \"link\";\r\n    }\r\n    if (submitCheck) {\r\n      history.push(`/post/${reRouteId}`);\r\n    }\r\n  }, [submitCheck]);\r\n  if (fetchingLogin) {\r\n    return <div></div>;\r\n  }\r\n  const uploadForm = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    data.append(\"title\", title);\r\n    data.append(\"content\", text);\r\n    data.append(\"file\", imagedata);\r\n    dispatch(submitPost(data));\r\n  };\r\n  const handleFormType = () => {\r\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\r\n    dispatch(changePostSubmissionType(\"post\"));\r\n  };\r\n  const handleImageType = () => {\r\n    dispatch(changePostSubmissionType(\"media\"));\r\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\r\n  };\r\n  const handleLinkType = () => {\r\n    dispatch(changePostSubmissionType(\"link\"));\r\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\r\n  };\r\n  return (\r\n    <div\r\n      className={`newpost-wrapper ${\r\n        checkDisplay === \"dark\" ? \"dark-mode\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"newpost-container\">\r\n        <p className=\"newpost-title\">Create a post</p>\r\n        <div\r\n          className={`newpost-template ${\r\n            checkDisplay === \"dark\" ? \"navbar-dropdown-options-dark\" : \"\"\r\n          }`}\r\n        >\r\n          <div className=\"newpost-options\">\r\n            <button\r\n              className={\r\n                submissionType === \"post\"\r\n                  ? `submit-type-button ${`selectedType`} ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    }`\r\n                  : `submit-type-button ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    } `\r\n              }\r\n              onClick={handleFormType}\r\n            >\r\n              Post\r\n            </button>\r\n            <button\r\n              className={\r\n                submissionType === \"media\"\r\n                  ? `submit-type-button ${`selectedType`} ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    }`\r\n                  : `submit-type-button ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    } `\r\n              }\r\n              onClick={handleImageType}\r\n            >\r\n              Images {\"&\"} Video\r\n            </button>\r\n            <button\r\n              className={\r\n                submissionType === \"link\"\r\n                  ? `submit-type-button ${`selectedType`} ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    }`\r\n                  : `submit-type-button ${\r\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\r\n                    } `\r\n              }\r\n              onClick={handleLinkType}\r\n            >\r\n              Link\r\n            </button>\r\n          </div>\r\n          <form action=\"\">\r\n            <div className=\"newpost-title-container\">\r\n              <input\r\n                onChange={(e) => {\r\n                  setTitle(e.target.value);\r\n                }}\r\n                placeholder=\"Title\"\r\n                className={`newpost-title ${\r\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n                }`}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"newpost-entry-container\">\r\n              {submissionType === \"media\" ? (\r\n                <div className=\"upload-input-container\">\r\n                  <input\r\n                    onChange={(e) => {\r\n                      setImage(e.target.files[0]);\r\n                    }}\r\n                    className=\"upload-input\"\r\n                    type=\"file\"\r\n                    name=\"\"\r\n                    id=\"file-input\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <textarea\r\n                  onChange={(e) => {\r\n                    setText(e.target.value);\r\n                  }}\r\n                  placeholder=\"Text(optional)\"\r\n                  className={`newpost-entry ${\r\n                    checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\r\n                  }`}\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  cols=\"30\"\r\n                  rows=\"10\"\r\n                ></textarea>\r\n              )}\r\n              <div className=\"submission-button-container\">\r\n                <button\r\n                  type=\"submit\"\r\n                  onClick={(e) => uploadForm(e)}\r\n                  className={`submission-buttons ${\r\n                    checkDisplay === \"dark\" ? \"dark-mode-button\" : \"\"\r\n                  }`}\r\n                >\r\n                  Post\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default NewPost;\r\n","import axios from \"axios\";\r\nimport {\r\n  NEW_COMMENT_REQUEST,\r\n  NEW_COMMENT_SUCCESS,\r\n  NEW_REPLY_REQUEST,\r\n  NEW_REPLY_SUCCESS,\r\n  VOTE_CAST,\r\n} from \"../types\";\r\nexport function newCommentRequest() {\r\n  return {\r\n    type: NEW_COMMENT_REQUEST,\r\n  };\r\n}\r\nfunction newCommentSuccess(savedComment, postId, parentId) {\r\n  return (dispatch, getState) => {\r\n    dispatch({\r\n      type: NEW_COMMENT_SUCCESS,\r\n      savedComment,\r\n      postId,\r\n      parentId,\r\n    });\r\n  };\r\n}\r\nexport function newComment(content, postId) {\r\n  return (dispatch, getState) => {\r\n    dispatch(newCommentRequest());\r\n    return axios({\r\n      url: \"/api/comment/new\",\r\n      method: \"POST\",\r\n      data: {\r\n        content,\r\n        postId,\r\n      },\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      dispatch(newCommentSuccess(res.data, postId));\r\n    });\r\n  };\r\n}\r\nexport function newReplyRequest() {\r\n  return {\r\n    type: NEW_REPLY_REQUEST,\r\n    test: {},\r\n  };\r\n}\r\nexport function test(test) {\r\n  return (dispatch, getState) => {\r\n    dispatch(test.push(\"sdfsdf\"));\r\n  };\r\n}\r\nexport function changeCommentPoint(point, postId, commentId) {\r\n  return (dispatch, getState) => {\r\n    const currentCommentId = commentId;\r\n    const currentComment = getState().comments.byId[currentCommentId];\r\n    const currentVoteState = currentComment.voteState;\r\n    dispatch({\r\n      type: VOTE_CAST,\r\n      point,\r\n      commentId,\r\n      currentVoteState,\r\n    });\r\n    if (point === 1) {\r\n      axios({\r\n        url: \"/api/comment/vote-up\",\r\n        method: \"PUT\",\r\n        data: {\r\n          postId,\r\n          commentId,\r\n        },\r\n        withCredentials: true,\r\n      });\r\n    } else if (point === -1) {\r\n      axios({\r\n        url: \"/api/comment/vote-down\",\r\n        method: \"PUT\",\r\n        data: {\r\n          postId,\r\n          commentId,\r\n        },\r\n        withCredentials: true,\r\n      });\r\n    }\r\n  };\r\n}\r\nexport function newReply(content, postId, commentId) {\r\n  return (dispatch, getState) =>\r\n    axios({\r\n      url: `/api/comments/${commentId}/replies`,\r\n      method: \"POST\",\r\n      data: {\r\n        content,\r\n        postId,\r\n      },\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      dispatch({\r\n        type: NEW_REPLY_SUCCESS,\r\n        reply: res.data,\r\n        postId,\r\n        commentId,\r\n      });\r\n    });\r\n}\r\n","export default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 477.873 477.873\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.4e81c026.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  changeCommentPoint,\r\n  newReply,\r\n  newReplyRequest,\r\n} from \"../actions/commentActions\";\r\nimport downvote from \"../images/down-arrow.svg\";\r\nimport upvote from \"../images/up-arrow.svg\";\r\nimport { ReactComponent as DownArrow } from \"../images/down-arrow.svg\";\r\nimport { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\r\nconst Comment = ({ comment, handleShowLogin }) => {\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const allComments = useSelector((state) => {\r\n    return state.comments.byId;\r\n  });\r\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\r\n  const dispatch = useDispatch();\r\n  const params = useParams();\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [replyToggle, setReplyToggle] = useState(false);\r\n  const voteUp = () => {\r\n    if (loggedIn) {\r\n      dispatch(changeCommentPoint(1, params.id, comment._id));\r\n    } else {\r\n      handleShowLogin();\r\n    }\r\n  };\r\n  const voteDown = () => {\r\n    if (loggedIn) {\r\n      dispatch(changeCommentPoint(-1, params.id, comment._id));\r\n    } else {\r\n      handleShowLogin();\r\n    }\r\n  };\r\n  const handleReplyToggle = () => {\r\n    setReplyToggle(!replyToggle);\r\n    dispatch(newReplyRequest());\r\n  };\r\n  const handleReply = () => {\r\n    let commentId = comment._id;\r\n    dispatch(newReply(replyText, params.id, commentId));\r\n    setReplyToggle(false);\r\n    setReplyText(\"\");\r\n  };\r\n  useEffect(() => {}, []);\r\n  if (!comment) {\r\n    return <div></div>;\r\n  }\r\n  const nestedComments = (comment.comments || []).map((comment) => {\r\n    return <Comment key={comment} comment={allComments[comment]} />;\r\n  });\r\n  return (\r\n    <div style={{ marginLeft: \"15px\", marginTop: \"10px\" }}>\r\n      <div className=\"comment-vote-title-container\">\r\n        <div className=\"comment-vote-container\">\r\n          <div className=\"comment-vote-button-container\">\r\n            <UpArrow\r\n              className={\r\n                comment.voteState === 1\r\n                  ? \"comment-vote-button-color\"\r\n                  : `${\r\n                      checkDisplay === \"dark\"\r\n                        ? \"dark-mode-arrow\"\r\n                        : \"comment-vote-button\"\r\n                    }`\r\n              }\r\n              src={upvote}\r\n              onClick={voteUp}\r\n              alt=\"\"\r\n            />\r\n            <span className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\r\n              {comment.voteTotal}\r\n            </span>\r\n            <DownArrow\r\n              className={\r\n                comment.voteState === -1\r\n                  ? `comment-vote-button-color`\r\n                  : `${\r\n                      checkDisplay === \"dark\"\r\n                        ? \"dark-mode-arrow\"\r\n                        : \"comment-vote-button\"\r\n                    }`\r\n              }\r\n              src={downvote}\r\n              onClick={voteDown}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"comment-container\">\r\n          <p\r\n            className={`comment-author ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            {comment.authorName}\r\n          </p>\r\n          <div\r\n            className={`parent-comment ${\r\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n            }`}\r\n          >\r\n            {comment.content}\r\n          </div>\r\n          <div className=\"reply-button-container\">\r\n            {loggedIn ? (\r\n              <button onClick={handleReplyToggle} className=\"reply-button\">\r\n                Reply\r\n              </button>\r\n            ) : null}\r\n            {replyToggle ? (\r\n              <div className=\"new-comment-container\">\r\n                <textarea\r\n                  value={replyText}\r\n                  onChange={(e) => {\r\n                    setReplyText(e.target.value);\r\n                  }}\r\n                  placeholder=\"What are your thoughts?\"\r\n                  className=\"new-comment reply-textarea\"\r\n                  rows=\"6\"\r\n                ></textarea>\r\n                <div className=\"submit-comment-container\">\r\n                  <button\r\n                    onClick={handleReply}\r\n                    className=\"submit-comment-button\"\r\n                  >\r\n                    Reply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"nested-comments\">{nestedComments}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Comment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { newComment } from \"../actions/commentActions\";\r\nimport { changePoint, editPost, fetchSinglePost } from \"../actions/postActions\";\r\nimport downvote from \"../images/down-arrow.svg\";\r\nimport { ReactComponent as Edit } from \"../images/edit.svg\";\r\nimport upvote from \"../images/up-arrow.svg\";\r\nimport Comment from \"./Comment\";\r\nimport { ReactComponent as DownArrow } from \"../images/down-arrow.svg\";\r\nimport { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\r\nconst PostModal = (props) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const [edit, setEdit] = useState(false);\r\n  const [editText, setEditText] = useState(\"\");\r\n  const currentUser = useSelector((state) => state.currentUser._id);\r\n  const comments = useSelector((state) => {\r\n    return state.comments.byId;\r\n  });\r\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\r\n  let currentPost = props.post;\r\n  const back = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n  const handleReroute = () => {\r\n    history.push(\"/\");\r\n  };\r\n  const handleSubmitComment = () => {\r\n    dispatch(newComment(commentText, props.post._id));\r\n    setCommentText(\"\");\r\n  };\r\n  const handleUpvote = () => {\r\n    if (loggedIn) {\r\n      dispatch(changePoint(1, params.id));\r\n    } else {\r\n      props.handleShowLogin();\r\n    }\r\n  };\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  const handleDownVote = () => {\r\n    if (loggedIn) {\r\n      dispatch(changePoint(-1, params.id));\r\n    } else {\r\n      props.handleShowLogin();\r\n    }\r\n  };\r\n  const handleEdit = () => {\r\n    setEdit(true);\r\n  };\r\n  const handleCancelEdit = () => {\r\n    setEdit(false);\r\n  };\r\n  const saveEdit = (id) => {\r\n    dispatch(editPost(id, editText));\r\n    setEdit(false);\r\n  };\r\n  if (!currentPost) {\r\n    return <div></div>;\r\n  }\r\n  const date = new Date(currentPost.createdAt);\r\n  const formatDate = new Intl.DateTimeFormat(\"en-US\", {}).format(date);\r\n  return (\r\n    <div\r\n      onClick={handleReroute}\r\n      className={`modal-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\r\n    >\r\n      <input type=\"checkbox\" id=\"trigger\" className={\"burger-input\"} />\r\n      <label\r\n        htmlFor=\"trigger\"\r\n        className={`close-label ${\r\n          checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\r\n        }`}\r\n      >\r\n        <div onClick={handleReroute} className={\"main-close-icon-container\"}>\r\n          <span className={\"main-close-icon\"}></span>\r\n        </div>\r\n      </label>\r\n      <div\r\n        onClick={back}\r\n        className={`card-modal ${\r\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n        }`}\r\n      >\r\n        {currentPost.author ? (\r\n          <>\r\n            <p className=\"card-modal-author\">\r\n              {\" \"}\r\n              u/{currentPost.author.username}\r\n            </p>\r\n            <p\r\n              className={`modal-date ${\r\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n              }`}\r\n            >\r\n              {formatDate}\r\n            </p>\r\n            <h4\r\n              className={`card-modal-title ${\r\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n              }`}\r\n            >\r\n              {currentPost.title}\r\n            </h4>\r\n            {currentUser === currentPost.author._id ? (\r\n              <div className=\"edit-container\">\r\n                <p\r\n                  className={`card-modal-content ${edit ? \"inactive\" : null} `}\r\n                >\r\n                  {currentPost.content}\r\n                </p>\r\n                <textarea\r\n                  onChange={(e) => {\r\n                    setEditText(e.target.value);\r\n                  }}\r\n                  className={edit ? \"edit-text-area\" : \"inactive\"}\r\n                  value={editText}\r\n                ></textarea>\r\n                <div className={edit ? `edit-button-container` : `inactive`}>\r\n                  <button\r\n                    onClick={() => saveEdit(currentPost._id)}\r\n                    className=\"edit-submit-button\"\r\n                  >\r\n                    Save\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCancelEdit}\r\n                    className=\"edit-cancel-button\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  className={`edit-button ${edit ? \"inactive\" : null}`}\r\n                  onClick={handleEdit}\r\n                >\r\n                  <Edit />\r\n                </button>\r\n              </div>\r\n            ) : null}\r\n            <div className=\"post-image-container\">\r\n              <img className=\"post-image\" src={props.post.image} alt=\"\" />\r\n            </div>\r\n            {currentUser ? (\r\n              <div className=\"new-comment-container\">\r\n                <textarea\r\n                  className=\"new-comment\"\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  placeholder=\"What are your thoughts?\"\r\n                  rows=\"6\"\r\n                  value={commentText}\r\n                  onChange={(e) => setCommentText(e.target.value)}\r\n                ></textarea>\r\n                <span className=\"submit-comment-container\">\r\n                  <button\r\n                    onClick={() => {\r\n                      handleSubmitComment();\r\n                    }}\r\n                    className=\"submit-comment-button\"\r\n                  >\r\n                    Comment\r\n                  </button>\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className={`no-user-comment-container ${\r\n                  checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\r\n                } `}\r\n              >\r\n                <p className=\"no-user-comment\">\r\n                  Log in or sign up to leave a comment\r\n                </p>\r\n                <div className=\"auth-button-container\">\r\n                  <button\r\n                    className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\r\n                    onClick={props.handleShowLogin}\r\n                  >\r\n                    log in\r\n                  </button>\r\n                  <button onClick={props.handleShowSignup}>sign up</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div className=\"card-modal-vote-container\">\r\n              <li onClick={handleUpvote}>\r\n                <UpArrow\r\n                  className={\r\n                    currentPost.voteState === 1\r\n                      ? `vote-button-color`\r\n                      : `${\r\n                          checkDisplay === \"dark\"\r\n                            ? \"dark-mode-arrow\"\r\n                            : \"vote-button\"\r\n                        }`\r\n                  }\r\n                  src={upvote}\r\n                  alt=\"\"\r\n                />\r\n              </li>\r\n              <li className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\r\n                {currentPost.voteTotal}\r\n              </li>\r\n              <li onClick={handleDownVote}>\r\n                <DownArrow\r\n                  className={\r\n                    currentPost.voteState === -1\r\n                      ? `vote-button-color`\r\n                      : `${\r\n                          checkDisplay === \"dark\"\r\n                            ? \"dark-mode-arrow\"\r\n                            : \"vote-button\"\r\n                        }`\r\n                  }\r\n                  src={downvote}\r\n                  alt=\"\"\r\n                />\r\n              </li>\r\n            </div>\r\n            <h4\r\n              className={`comment-section-header ${\r\n                checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\r\n              } `}\r\n            >\r\n              Comments\r\n            </h4>\r\n            {props.post.comments.length > 0 &&\r\n              props.post.comments.map((comment) => {\r\n                return (\r\n                  <Comment\r\n                    handleShowLogin={props.handleShowLogin}\r\n                    key={comment}\r\n                    comment={comments[comment]}\r\n                  />\r\n                );\r\n              })}\r\n          </>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nfunction mapStateToProps(state, ownProps) {\r\n  let id = ownProps.match.params.id;\r\n  let post;\r\n  post = state.posts.byId[id];\r\n  return {\r\n    post: post,\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(PostModal);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { nextPage } from \"./actions/postActions\";\r\nimport { clearLoginModal, loggedIn } from \"./actions/userActions\";\r\nimport Home from \"./components/Home\";\r\nimport Login from \"./components/Login\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport NewPost from \"./components/NewPost\";\r\nimport PostModal from \"./components/PostModal\";\r\nimport Signup from \"./components/Signup\";\r\nimport \"./styles/myApp.scss\";\r\nfunction App(props) {\r\n  const [showLogin, setLogin] = useState(false);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [fetchingLogin, setFetchingLogin] = useState(true);\r\n  const [showSignup, setShowSignup] = useState(false);\r\n  const loggedInStatus = useSelector((state) => state.currentUser.isLoggedIn);\r\n  const signedUpStatus = useSelector((state) => state.signup.isSignedUp);\r\n  const dispatch = useDispatch();\r\n  const checkDisplay = useSelector((state) => {\r\n    return state.display.display;\r\n  });\r\n  useEffect(() => {\r\n    dispatch(loggedIn()).then((data) => {\r\n      if (data) {\r\n        setFetchingLogin(false);\r\n      }\r\n    });\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    if (loggedInStatus) {\r\n      setLogin(false);\r\n    }\r\n    if (signedUpStatus && !loggedInStatus) {\r\n      setShowSignup(false);\r\n      setLogin(true);\r\n    }\r\n  }, [loggedInStatus, signedUpStatus]);\r\n  const handleShowLogin = () => {\r\n    setLogin(!showLogin);\r\n  };\r\n  const handleShowSignup = () => {\r\n    setShowSignup(!showSignup);\r\n  };\r\n  const closeModal = () => {\r\n    dispatch(clearLoginModal());\r\n    setLogin(false);\r\n    setShowSignup(false);\r\n  };\r\n  const handleShowNextPage = (lastId, sort) => {\r\n    dispatch(nextPage(lastId, sort));\r\n  };\r\n  return (\r\n    <div\r\n      id=\"scroll-wrapper\"\r\n      className={`app-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\r\n    >\r\n      {showLogin ? <Login close={closeModal} /> : null}\r\n      {showSignup ? <Signup close={closeModal} /> : null}\r\n      <Navbar\r\n        handleShowLogin={handleShowLogin}\r\n        handleShowSignup={handleShowSignup}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/post/:id\"\r\n        render={(props) => {\r\n          return (\r\n            <PostModal\r\n              handleShowLogin={handleShowLogin}\r\n              handleShowSignup={handleShowSignup}\r\n              {...props}\r\n            />\r\n          );\r\n        }}\r\n      />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/new-post\"\r\n          render={(props) => {\r\n            return <NewPost {...props} />;\r\n          }}\r\n        >\r\n          {!fetchingLogin && !props.loggedIn ? <Redirect to=\"/\" /> : null}\r\n        </Route>\r\n        <Route\r\n          path={[\"/:sort\", \"/\"]}\r\n          render={(props2) => {\r\n            return (\r\n              <Home\r\n                handleShowLogin={handleShowLogin}\r\n                handleShowSignup={handleShowSignup}\r\n                handleShowNextPage={handleShowNextPage}\r\n                {...props2}\r\n                test={props.posts}\r\n              />\r\n            );\r\n          }}\r\n          showLogin={showLogin}\r\n          showSignup={showSignup}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state, ownProps) {\r\n  let loggedInStatus = state.login.isLoggedIn;\r\n  return {\r\n    loggedIn: loggedInStatus,\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(App);\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  CLEAR_ERROR,\r\n  CLEAR_LOGIN_MODAL,\r\n  CURRENT_USER,\r\n  DARK_MODE_ENABLED,\r\n  DELETE_POST,\r\n  EDIT_POST,\r\n  LOGIN_ERROR,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOG_OUT,\r\n  NEW_COMMENT_SUCCESS,\r\n  NEW_POST_REQUEST,\r\n  NEW_POST_SUCCESS,\r\n  NEW_REPLY_REQUEST,\r\n  NEW_REPLY_SUCCESS,\r\n  NEXT_PAGE,\r\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\r\n  PREV_PAGE,\r\n  RECEIVE_POSTS,\r\n  RECEIVE_SINGLE_POSTS,\r\n  REFRESH_USER,\r\n  REQUEST_POSTS,\r\n  REQUEST_USER_INFO,\r\n  SET_POST_MODAL,\r\n  SIGNUP_ERROR,\r\n  SIGNUP_REQUEST,\r\n  SIGNUP_SUCCESS,\r\n  SORT_POSTS,\r\n  SPLICED_POST,\r\n  UNAUTHORIZED_ERROR,\r\n  VOTE_CAST,\r\n  DARK_MODE_DISABLED,\r\n} from \"../types\";\r\nfunction combineArrays(arr1, arr2) {\r\n  let combined = arr1.concat(arr2);\r\n  let set = new Set(combined);\r\n  return [...set];\r\n}\r\nfunction addComment(state, action) {\r\n  return {\r\n    ...state,\r\n    byId: {\r\n      ...state.byId,\r\n      [action.postId]: {\r\n        ...state.byId[action.postId],\r\n        comments: [\r\n          ...state.byId[action.postId].comments,\r\n          action.savedComment._id,\r\n        ],\r\n      },\r\n    },\r\n  };\r\n}\r\nfunction changePostPoint(state, action) {\r\n  const { postId } = action;\r\n  const { point } = action;\r\n  const { currentVoteState } = action;\r\n  const post = state.byId[postId];\r\n  if (action.commentId) {\r\n    return state;\r\n  } else {\r\n    if (currentVoteState === 1 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: 0,\r\n            voteTotal: state.byId[postId].voteTotal - 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 0 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: 1,\r\n            voteTotal: state.byId[postId].voteTotal + 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 1 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: -1,\r\n            voteTotal: state.byId[postId].voteTotal - 2,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 0 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: -1,\r\n            voteTotal: state.byId[postId].voteTotal - 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === -1 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: 0,\r\n            voteTotal: state.byId[postId].voteTotal + 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === -1 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [postId]: {\r\n            ...post,\r\n            voteState: 1,\r\n            voteTotal: state.byId[postId].voteTotal + 2,\r\n          },\r\n        },\r\n      };\r\n    }\r\n  }\r\n}\r\nfunction handlePostSubmission(state, action) {\r\n  const { post, id } = action;\r\n  return {\r\n    ...state,\r\n    byId: {\r\n      ...state.byId,\r\n      [id]: post,\r\n    },\r\n    allIds: [...state.allIds, id],\r\n    submitting: false,\r\n    createdPosts: {\r\n      ...state.createdPosts,\r\n      [id]: post,\r\n    },\r\n    submitted: true,\r\n    reRouteId: id,\r\n  };\r\n}\r\nfunction editPostReduce(state, action) {\r\n  const { postId, content } = action;\r\n  const post = state.byId[postId];\r\n  return {\r\n    ...state,\r\n    byId: {\r\n      ...state.byId,\r\n      [postId]: {\r\n        ...post,\r\n        content: content,\r\n      },\r\n    },\r\n  };\r\n}\r\nfunction handlePreviousPage(state, action) {\r\n  let allIds = state.allIds;\r\n  let incomingIds = action.normalizedData.result;\r\n  let set = new Set(incomingIds.concat(allIds));\r\n  return {\r\n    ...state,\r\n    isFetching: false,\r\n    byId: {\r\n      ...state.byId,\r\n      ...action.normalizedData.entities.posts,\r\n    },\r\n    status: \"succeeded\",\r\n    allIds: [...set],\r\n  };\r\n}\r\nfunction handleNextPage(state, action) {\r\n  let allIds = state.allIds;\r\n  let incomingIds = action.normalizedData.result;\r\n  let set = new Set(allIds.concat(incomingIds));\r\n  return {\r\n    ...state,\r\n    isFetching: false,\r\n    byId: {\r\n      ...state.byId,\r\n      ...action.normalizedData.entities.posts,\r\n    },\r\n    offset: action.offset,\r\n    status: \"succeeded\",\r\n    allIds: [...set],\r\n  };\r\n}\r\nfunction setListings(state, action, prev) {\r\n  return {\r\n    ...state,\r\n    status: \"completed\",\r\n    sortOrder: action.sort,\r\n    listingOrder: {\r\n      ...state.listingOrder,\r\n      [action.sort]: combineArrays(\r\n        state.listingOrder[action.sort] ? state.listingOrder[action.sort] : [],\r\n        action.normalizedData.result\r\n      ),\r\n    },\r\n  };\r\n}\r\nfunction listings(\r\n  state = {\r\n    sortOrder: \"default\",\r\n    listingOrder: {},\r\n    status: \"idle\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case SORT_POSTS:\r\n      return setListings(state, action);\r\n    case REQUEST_POSTS:\r\n      return action.e\r\n        ? Object.assign({}, state, {\r\n            status: \"loading\",\r\n          })\r\n        : state;\r\n    case DELETE_POST:\r\n      const filteredPosts = state.listingOrder[state.sortOrder].filter((id) => {\r\n        return id !== action.postId;\r\n      });\r\n      return {\r\n        ...state,\r\n        listingOrder: {\r\n          ...state.listingOrder,\r\n          [state.sortOrder]: [...filteredPosts],\r\n        },\r\n      };\r\n    case PREV_PAGE:\r\n      return setListings(state, action, \"prev\");\r\n    case NEXT_PAGE:\r\n      return setListings(state, action);\r\n    case RECEIVE_POSTS:\r\n      return setListings(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction receievePosts(state, action) {\r\n  let allIds = state.allIds;\r\n  let incomingIds = action.normalizedData.result;\r\n  let set = new Set(allIds.concat(incomingIds));\r\n  return {\r\n    ...state,\r\n    isFetching: false,\r\n    byId: {\r\n      ...state.byId,\r\n      ...action.normalizedData.entities.posts,\r\n    },\r\n    offset: action.offset,\r\n    status: \"completed\",\r\n    allIds: [...set],\r\n  };\r\n}\r\nfunction posts(\r\n  state = {\r\n    isFetching: false,\r\n    byId: {},\r\n    allIds: [],\r\n    offset: null,\r\n    submitted: false,\r\n    err: null,\r\n    createdPosts: {},\r\n    submitting: false,\r\n    reRouteId: null,\r\n    status: \"idle\",\r\n    firstId: \"\",\r\n    lastId: \"\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case SORT_POSTS:\r\n      return Object.assign({}, state, {\r\n        status: \"idle\",\r\n        offset: action.offset,\r\n      });\r\n    case PREV_PAGE:\r\n      return handlePreviousPage(state, action);\r\n    case NEXT_PAGE:\r\n      return handleNextPage(state, action);\r\n    case REQUEST_POSTS:\r\n      return Object.assign({}, state, {\r\n        isFetching: true,\r\n        status: \"loading\",\r\n      });\r\n    case SPLICED_POST:\r\n      return Object.assign({}, state, {\r\n        byId: action.newObj,\r\n        allIds: action.splicedArray,\r\n        createdPosts: {},\r\n      });\r\n    case RECEIVE_SINGLE_POSTS:\r\n      return receievePosts(state, action);\r\n    case RECEIVE_POSTS:\r\n      return receievePosts(state, action);\r\n    case VOTE_CAST:\r\n      return changePostPoint(state, action);\r\n    case DELETE_POST:\r\n      const allIds = state.allIds;\r\n      const filteredPosts = allIds.filter((id) => {\r\n        return id !== action.postId;\r\n      });\r\n      return Object.assign({}, state, {\r\n        allIds: filteredPosts,\r\n      });\r\n    case NEW_COMMENT_SUCCESS:\r\n      return addComment(state, action);\r\n    case NEW_POST_REQUEST:\r\n      return Object.assign({}, state, {\r\n        submitted: false,\r\n        submitting: true,\r\n        reRouteId: \"\",\r\n      });\r\n    case EDIT_POST:\r\n      return editPostReduce(state, action);\r\n    case NEW_POST_SUCCESS:\r\n      return handlePostSubmission(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction setPostModal(state, action) {\r\n  const { post } = action;\r\n  return {\r\n    ...state,\r\n    post,\r\n  };\r\n}\r\nfunction currentModal(\r\n  state = {\r\n    post: {},\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case SET_POST_MODAL:\r\n      return setPostModal(state, action);\r\n    case NEW_POST_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        post: action.post,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction addCommentEntry(state, action) {\r\n  const { savedComment } = action;\r\n  return {\r\n    ...state,\r\n    byId: {\r\n      ...state.byId,\r\n      [action.savedComment._id]: {\r\n        ...state.byId[savedComment._id],\r\n        ...action.savedComment,\r\n      },\r\n    },\r\n  };\r\n}\r\nfunction changeCommentPoint(state, action) {\r\n  if (action.commentId) {\r\n    const { commentId } = action;\r\n    const { point } = action;\r\n    const { currentVoteState } = action;\r\n    const comment = state.byId[commentId];\r\n    if (currentVoteState === 1 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: 0,\r\n            voteTotal: state.byId[commentId].voteTotal - 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 0 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: 1,\r\n            voteTotal: state.byId[commentId].voteTotal + 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 1 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: -1,\r\n            voteTotal: state.byId[commentId].voteTotal - 2,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === 0 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: -1,\r\n            voteTotal: state.byId[commentId].voteTotal - 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === -1 && point === -1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: 0,\r\n            voteTotal: state.byId[commentId].voteTotal + 1,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    if (currentVoteState === -1 && point === 1) {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [commentId]: {\r\n            ...comment,\r\n            voteState: 1,\r\n            voteTotal: state.byId[commentId].voteTotal + 2,\r\n          },\r\n        },\r\n      };\r\n    }\r\n  } else {\r\n    return state;\r\n  }\r\n}\r\nconst newReply = (state, action) => {\r\n  return {\r\n    ...state,\r\n    byId: {\r\n      ...state.byId,\r\n      [action.commentId]: {\r\n        ...state.byId[action.commentId],\r\n        comments: [...state.byId[action.commentId].comments, action.reply._id],\r\n      },\r\n      [action.reply._id]: action.reply,\r\n    },\r\n  };\r\n};\r\nfunction comments(\r\n  state = {\r\n    byId: {},\r\n    allId: [],\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case RECEIVE_SINGLE_POSTS: {\r\n      return Object.assign({}, state, {\r\n        byId: {\r\n          ...state.byId,\r\n          ...action.normalizedData.entities.comments,\r\n        },\r\n      });\r\n    }\r\n    case RECEIVE_POSTS: {\r\n      return Object.assign({}, state, {\r\n        byId: {\r\n          ...state.byId,\r\n          ...action.normalizedData.entities.comments,\r\n        },\r\n      });\r\n    }\r\n    case NEW_REPLY_SUCCESS:\r\n      return newReply(state, action);\r\n    case VOTE_CAST:\r\n      return changeCommentPoint(state, action);\r\n    case NEW_COMMENT_SUCCESS:\r\n      return addCommentEntry(state, action);\r\n    case NEW_REPLY_REQUEST:\r\n      return Object.assign({}, state, {});\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction changeNewSubmissionType(\r\n  state = {\r\n    submissionType: \"\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case POST_CREATION_CHANGE_SUBMISSION_TYPE:\r\n      return Object.assign({}, state, {\r\n        submissionType: action.postType,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction signup(\r\n  state = {\r\n    isSigningUp: false,\r\n    isSignedUp: false,\r\n    err: null,\r\n    passwordError: null,\r\n  },\r\n  action\r\n) {\r\n  const { passwordError } = action;\r\n  switch (action.type) {\r\n    case SIGNUP_REQUEST:\r\n      return Object.assign({}, state, {\r\n        err: null,\r\n        passwordError: null,\r\n      });\r\n    case SIGNUP_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        isSignedUp: true,\r\n        isSigningUp: false,\r\n        err: null,\r\n        passwordError: null,\r\n      });\r\n    case CLEAR_ERROR:\r\n      return Object.assign({}, state, {\r\n        err: null,\r\n      });\r\n    case SIGNUP_ERROR:\r\n      return Object.assign({}, state, {\r\n        err: action.error,\r\n        passwordError,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction login(\r\n  state = {\r\n    isLoggingIn: false,\r\n    isLoggedIn: false,\r\n    err: null,\r\n    fetching: false,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case REQUEST_USER_INFO:\r\n      return Object.assign({}, state, {\r\n        isLoggedIn: true,\r\n        fetching: true,\r\n      });\r\n    case CURRENT_USER:\r\n      return Object.assign({}, state, {\r\n        fetching: false,\r\n      });\r\n    case UNAUTHORIZED_ERROR:\r\n      return Object.assign({}, state, {\r\n        err: \"Username or Password do not match\",\r\n      });\r\n    case CLEAR_LOGIN_MODAL:\r\n      return Object.assign({}, state, {\r\n        err: null,\r\n      });\r\n    case LOGIN_REQUEST:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: true,\r\n        isLoggedIn: false,\r\n      });\r\n    case LOGIN_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: false,\r\n        isLoggedIn: true,\r\n      });\r\n    case LOG_OUT:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: false,\r\n        isLoggedIn: false,\r\n      });\r\n    case LOGIN_ERROR:\r\n      return Object.assign({}, state, {\r\n        isLoggingIn: false,\r\n        isLoggedIn: false,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nfunction currentUser(\r\n  state = {\r\n    username: \"\",\r\n    _id: \"\",\r\n    err: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case LOG_OUT:\r\n      return Object.assign({}, state, {\r\n        username: null,\r\n        _id: null,\r\n      });\r\n    case REFRESH_USER:\r\n      return Object.assign({}, state, {\r\n        username: action.userInfo.username,\r\n        _id: action.userInfo._id,\r\n      });\r\n    case LOGIN_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        username: action.username,\r\n        _id: action.id,\r\n      });\r\n    case CURRENT_USER:\r\n      return Object.assign({}, state, {\r\n        isLoggedIn: true,\r\n        username: action.username,\r\n        _id: action.user,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport function display(\r\n  state = {\r\n    display: \"default\",\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case DARK_MODE_ENABLED:\r\n      return Object.assign({}, state, {\r\n        display: \"dark\",\r\n      });\r\n    case DARK_MODE_DISABLED:\r\n      return Object.assign({}, state, {\r\n        display: \"default\",\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst rootReducer = combineReducers({\r\n  comments,\r\n  display,\r\n  currentModal,\r\n  changeNewSubmissionType,\r\n  posts,\r\n  login,\r\n  signup,\r\n  currentUser,\r\n  listings,\r\n});\r\nexport default rootReducer;\r\n","import { createBrowserHistory } from \"history\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { Router } from \"react-router\";\r\nimport { Route } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport configureStore from \"./store/store\";\r\nconst store = configureStore();\r\nconst history = createBrowserHistory();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router history={history}>\r\n        <Route component={App} />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { loadState } from \"../localStorage\";\r\nimport rootReducer from \"../reducers/reducer\";\r\nexport default function configureStore(preloadedState) {\r\n  const persistedState = loadState();\r\n  const composeEnhancers = composeWithDevTools({ trace: true });\r\n  return createStore(\r\n    rootReducer,\r\n    persistedState,\r\n    composeEnhancers(applyMiddleware(thunkMiddleware))\r\n  );\r\n}\r\n","export const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch {}\r\n};\r\n"],"sourceRoot":""}