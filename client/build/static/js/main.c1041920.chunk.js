(this["webpackJsonpreddit-react"]=this["webpackJsonpreddit-react"]||[]).push([[0],{78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(12),r=n(1),s=n.n(r),o=n(21),i=n.n(o),l=n(4),u=n(8),d=n(2),b=n(5),j=n(7),O=n.n(j),m=n(24),p=new m.b.Entity("comments",{},{idAttribute:"_id"});p.define({comments:[p]});var h=new m.b.Entity("posts",{comments:[p]},{idAttribute:"_id"}),g="REQUEST_POSTS",f="RECEIVE_POSTS",v="RECEIVE_SINGLE_POSTS",x="LOGIN_REQUEST",y="LOGIN_SUCCESS",w="LOGIN_ERROR",I="SIGNUP_REQUEST",S="SIGNUP_SUCCESS",N="SIGNUP_ERROR",E="CURRENT_USER",C="POST_CREATION_CHANGE_SUBMISSION_TYPE",T="NEW_POST_SUCCESS",_="NEW_POST_REQUEST",k="NEW_COMMENT_SUCCESS",L="NEW_REPLY_REQUEST",P="NEW_REPLY_SUCCESS",R="VOTE_CAST",U="NEXT_PAGE",D="PREV_PAGE",G="DELETE_POST",z="EDIT_POST",A="LOG_OUT",F="CLEAR_ERROR",M="SET_POST_MODAL",V="SPLICED_POST",W="REFRESH_USER",B="UNAUTHORIZED_ERROR",Q="SORT_POSTS",H="CLEAR_LOGIN_MODAL",Y="REQUEST_USER_INFO";function J(e){return{type:g,e:e}}function X(e){return function(t,n){var c=n().changeNewSubmissionType.submissionType;e!==c&&t({type:C,postType:e})}}function Z(e,t){return function(n,c){var a=t,r=c().posts.byId[a].voteState;return n({type:R,postId:t,point:e,currentVoteState:r}),1===e?O()({url:"/api/posts/vote-up/".concat(a),method:"PUT",withCredentials:!0}):-1===e?O()({url:"/api/posts/vote-down/".concat(a),method:"PUT",withCredentials:!0}):void 0}}function q(e){return function(t){return O()({url:"/api/post/new/",method:"POST",data:e,withCredentials:!0}).then((function(e){200===e.status&&t(function(e){var t=e._id;return e.newPost=!0,function(n){n({type:T,post:e,id:t})}}(e.data))}))}}function K(e,t){return Object(m.a)(e.posts,[h])}function $(e,t,n,c){return function(a){a(J(c)),O()({url:"/api/posts/".concat(n&&n.sort?n.sort:"").concat(e?"?".concat(e,"=").concat(t):""),method:"GET",withCredentials:!0}).then((function(e){var t=K({posts:e.data.posts});a({type:n&&n.sort&&"click"===c?Q:f,normalizedData:t,offset:e.data.offset,sort:n&&n.sort?n.sort:"default"})}))}}function ee(e,t){return function(n){return n(J()),new Promise((function(c){O()({url:"/api/posts/".concat(t&&t.sort?t.sort:"","?page[size]=",10,"&after=").concat(e),method:"GET",withCredentials:!0}).then((function(e){if(200===e.status){var a=K({posts:e.data.posts});n({type:U,normalizedData:a,offset:e.data.offset,sort:t.sort?t.sort:"default"}),c("completed")}}))}))}}var te=n(22),ne=n.n(te),ce=n(27),ae=0;function re(){return function(e){return O()({url:"/api/logout",withCredentials:!0,method:"POST"}).then((function(e){if(200===e.status)return localStorage.removeItem("accessToken"),e}))}}function se(e,t){return function(n){return n({type:x}),O()({withCredentials:!0,method:"POST",data:{username:e,password:t},url:"/api/login"}).then((function(e){if(200===e.status)return n(function(e,t){return function(n){n({type:y,username:e,id:t}),Promise.resolve("success")}}(e.data.username,e.data._id)),e.data.jwt_token})).then((function(e){return localStorage.setItem("accessToken",e),"login"})).catch((function(){n({type:B})}))}}function oe(e,t,n){return function(c){return c({type:I}),O()({url:"/api/signup",data:{username:e,password:t,passwordConfirm:n},method:"POST"}).then((function(e){if(200===e.status)return c({type:S}),"signup"})).catch((function(e){var a,r=e.response.data;t!==n&&(a="Passwords do not match"),c({type:N,error:r,passwordError:a})}))}}O.a.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),O.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401!==e.response.status&&403!==e.response.status||t._retry||!(ae<=2)||"/api/refresh"===e.config.url)return e.config;ae+=1,t._retry=!0,O()({url:"/api/refresh",method:"POST",withCredentials:!0}).then((function(e){if(e.data)return localStorage.setItem("accessToken",e.data.jwt_token),O.a.defaults.headers.common.Authorization="Bearer "+e.jwt_token,t.headers.Authorization="Bearer "+e.data.jwt_token,O()(t)}))}));var ie=n(9),le=n.p+"static/media/image-placeholder.1c6a32aa.svg",ue=n.p+"static/media/link-post.cdb86b79.svg",de=n.p+"static/media/reddit-default.f7d549ef.svg",be=n(42),je=n.n(be);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var pe=r.createElement("g",{id:"Page-1"},r.createElement("g",{id:"Desktop-(Card)",transform:"translate(-516.000000, -289.000000)"},r.createElement("g",{id:"Group-6",transform:"translate(428.000000, 154.000000)"},r.createElement("g",{id:"Group",transform:"translate(16.000000, 134.000000)"},r.createElement("g",{id:"down-arrow-copy",transform:"translate(72.000000, 1.000000)"},r.createElement("path",{d:"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z",id:"Path"}))))));function he(e,t){var n=e.title,c=e.titleId,a=me(e,["title","titleId"]);return r.createElement("svg",Oe({width:"13px",height:"14px",viewBox:"0 0 13 14",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"down-arrow copy"):n?r.createElement("title",{id:c},n):null,pe)}var ge=r.forwardRef(he);n.p;function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xe=r.createElement("g",{id:"Page-1"},r.createElement("g",{id:"Desktop-(Card)",transform:"translate(-444.000000, -289.000000)"},r.createElement("g",{id:"Group-6",transform:"translate(428.000000, 154.000000)"},r.createElement("g",{id:"Group",transform:"translate(16.000000, 134.000000)"},r.createElement("g",{id:"down-arrow",transform:"translate(6.500000, 8.000000) scale(1, -1) translate(-6.500000, -8.000000) translate(0.000000, 1.000000)"},r.createElement("path",{d:"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z",id:"Path"}))))));function ye(e,t){var n=e.title,c=e.titleId,a=ve(e,["title","titleId"]);return r.createElement("svg",fe({width:"13px",height:"14px",viewBox:"0 0 13 14",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"down-arrow"):n?r.createElement("title",{id:c},n):null,xe)}var we=r.forwardRef(ye),Ie=(n.p,function(e){var t=e.post,n=Object(r.useState)(!1),a=Object(b.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(!0),d=Object(b.a)(i,2)[1],j=Object(u.i)(),m=Object(l.c)(),p=Object(l.d)((function(e){return e.posts.allIds})),h=Object(l.d)((function(e){return e.currentUser._id})),g=Object(l.d)((function(e){return e.listings.status})),f=function(e){m(function(e,t){return function(n){return n({type:G,postId:e,params:t||"default"}),O()({url:"/api/delete/".concat(e),method:"DELETE",withCredentials:!0})}}(e,"post"===j.sort?null:j)),d(!1)};return p[0]?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"card-container",children:[Object(c.jsxs)("div",{className:"card-content-container ".concat("loading"===g?"content-loading-mask":""),children:[Object(c.jsxs)("p",{className:"card-author",children:["u/",t.author.username]}),Object(c.jsx)("h4",{className:"card-title",children:Object(c.jsx)(ie.a,{onClick:function(){var e;m((e=t._id,function(t){return t({type:"REQUEST_SINGLE_POST"}),O()({url:"/api/post/".concat(e),method:"GET",withCredentials:!0}).then((function(e){var n=K({posts:[e.data]});t({normalizedData:n,type:v})}))}))},to:{pathname:"/post/".concat(t._id),state:{modal:!0}},children:t.title})}),Object(c.jsxs)("div",{className:"vote-container",children:[Object(c.jsx)("li",{children:Object(c.jsx)(we,{className:1===t.voteState?"home-vote-color":"",alt:""})}),Object(c.jsx)("li",{children:t.voteTotal}),Object(c.jsx)("li",{children:Object(c.jsx)(ge,{className:-1===t.voteState?"home-vote-color":"",alt:""})})]})]}),h===t.author._id?Object(c.jsx)("div",{className:"edit-del-container",children:Object(c.jsxs)("div",{className:"edit-del-content",children:[s?Object(c.jsxs)("div",{className:"delete-confirm-container",children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"delete-confirm",children:"Delete?"})}),Object(c.jsx)("li",{onClick:function(){return f(t._id)},className:"delete-button-yes",children:"Yes"}),Object(c.jsx)("li",{className:"delete-button-slash",children:"/"}),Object(c.jsx)("li",{className:"delete-button-yes",children:"No"})]}):null,Object(c.jsx)("button",{onClick:function(){o(!s)},className:"delete-button",children:Object(c.jsx)(je.a,{className:"del-svg"})})]})}):null]},t._id)}):Object(c.jsx)("div",{})}),Se=function(e){var t=Object(r.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(""),i=Object(b.a)(o,2),u=i[0],d=i[1],j=Object(l.c)(),O=(Object(l.d)((function(e){return e.login.isLoggedIn})),Object(l.d)((function(e){return e.login.err}))),m=function(e){"Enter"!==e.key&&"click"!==e.type||j(se(a,u)).then((function(e){"login"===e&&window.location.reload()}))};return Object(c.jsx)("div",{className:"login-modal-wrapper",children:Object(c.jsxs)("div",{className:"login-card-modal",children:[Object(c.jsxs)("div",{className:"login-modal-title-exit-container",children:[Object(c.jsx)("p",{className:"login-modal-title",children:"Login"}),Object(c.jsx)("button",{onClick:e.close,className:"login-cancel-button",children:"X"})]}),Object(c.jsxs)("div",{className:"login-input-container",children:[Object(c.jsx)("input",{onChange:function(e){s(e.target.value)},className:"login-input",placeholder:"username",type:"text"}),Object(c.jsx)("input",{onKeyDown:m,onChange:function(e){d(e.target.value)},className:"login-input",placeholder:"password",type:"password"})," ",Object(c.jsx)("p",{className:"signup-error",children:O}),Object(c.jsx)("button",{onClick:m,className:"login-button",children:"Log in"})]})]})})},Ne=function(e){var t=Object(r.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(""),i=Object(b.a)(o,2),d=i[0],j=i[1],O=Object(r.useState)(""),m=Object(b.a)(O,2),p=m[0],h=m[1],g=Object(l.c)(),f=Object(l.d)((function(e){return e.login.isLoggedIn})),v=Object(l.d)((function(e){return e.signup.err})),x=Object(l.d)((function(e){return e.signup.passwordError}));return f&&window.location.reload(),Object(r.useEffect)((function(){g({type:I})}),[g]),Object(c.jsx)("div",{className:"login-modal-wrapper",children:Object(c.jsxs)("div",{className:"login-card-modal",children:[Object(c.jsxs)("div",{className:"login-modal-title-exit-container",children:[Object(c.jsx)("p",{className:"login-modal-title",children:"Sign up"}),Object(c.jsx)("button",{onClick:e.close,className:"login-cancel-button",children:"X"})]}),Object(c.jsxs)("div",{className:"login-input-container",children:[Object(c.jsx)("input",{onChange:function(e){s(e.target.value)},onClick:function(){g({type:F})},className:"login-input",placeholder:"username",type:"text"}),Object(c.jsx)("p",{className:"signup-error",children:v}),Object(c.jsx)("input",{onChange:function(e){j(e.target.value)},className:"login-input",placeholder:"password",type:"password"}),Object(c.jsx)("p",{className:"signup-error",children:x}),Object(c.jsx)("input",{onChange:function(e){h(e.target.value)},className:"login-input",placeholder:"Confirm your password",type:"password"}),Object(c.jsx)("button",{onClick:function(){g(oe(a,d,p)).then((function(e){"signup"===e&&u.a}))},className:"login-button",children:"Sign up"})]})]})})};var Ee=function(e){var t,n=Object(l.c)(),a=Object(l.d)((function(e){return e.posts.byId})),s=Object(l.d)((function(e){return e.login.isLoggedIn})),o=Object(l.d)((function(e){return e.posts.status})),i=Object(u.i)(),d=Object(l.d)((function(e){return e.listings.listingOrder})),b=Object(l.d)((function(e){return e.listings.sortOrder})),j=d[b],O=e.history.location.search,m=Object(l.d)((function(e){return e.posts.offset})),p=new URLSearchParams(O).get("after"),h=new URLSearchParams(O).get("before"),g=p?"after":h&&"before",f=p||h;j&&(t=j.map((function(e){return a[e]})));var v=Object(r.useCallback)((function(e){var t=!0,c=new IntersectionObserver((function(c,a){c[0].intersectionRatio>0&&t&&m&&(a.disconnect(),n(ee(m,i)).then((function(n){t=!1,"completed"===n&&a.observe(e)})))}),{threshold:[0]});e?c.observe(e):c.disconnect()}),[m]);Object(r.useEffect)((function(){n($(g,f,"post"===i.sort?null:i))}),[]);var x=d[b],y=function(t){var c;s||e.handleShowLogin(),n((c=t,function(e){e({type:C,postType:c})})),n({type:_})};return x?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"home-wrapper",children:[e.showSignup?Object(c.jsx)(Ne,{}):null,Object(c.jsxs)("div",{className:"new-post-container",children:[Object(c.jsx)(ie.a,{to:"",children:Object(c.jsx)("img",{className:"new-post-profile-image",src:de,alt:""})}),Object(c.jsx)(ie.a,{onClick:function(){return y("post")},to:s?"/new-post":"",className:"new-post-input-container",children:Object(c.jsx)("input",{placeholder:"Create Post",className:"new-post-input",type:"text"})}),Object(c.jsx)(ie.a,{onClick:function(){return y("media")},to:s?"/new-post?media=true":"",children:Object(c.jsx)("img",{className:"post-option",src:le,alt:""})}),Object(c.jsx)(ie.a,{onClick:function(){return y("link")},to:s?"/new-post?link=true":"",children:Object(c.jsx)("img",{className:"post-option",src:ue,alt:""})})]}),Object(c.jsxs)("div",{className:"categories-container",children:[Object(c.jsx)(ie.a,{to:"/hot",onClick:function(){return n($(g,f,{sort:"hot"},"click"))},children:"Hot"}),Object(c.jsx)(ie.a,{to:"/new",onClick:function(){return n($(g,f,{sort:"new"},"click"))},children:"New"}),Object(c.jsx)(ie.a,{to:"/top",onClick:function(){return n($(g,f,{sort:"top"},"click"))},children:"Top"})]}),Object(c.jsxs)("div",{className:"posts-container",children:[t.map((function(t){if(t)return Object(c.jsx)(Ie,{pastParams:e.match,history:e,post:t},t._id)})),Object(c.jsx)("div",{className:"page-set-container"})]})]}),Object(c.jsx)("div",{className:"loading-container",children:Object(c.jsx)("div",{className:"loading"===o?"lds-dual-ring":"inactive"})}),Object(c.jsx)("span",{ref:v})]}):Object(c.jsx)("div",{})},Ce=(n.p,n.p+"static/media/magnifying-glass.4af3fe67.svg"),Te=n.p+"static/media/Triangle.145cb339.svg";var _e=Object(u.j)((function(e){var t,n=Object(r.useState)(!1),a=Object(b.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(""),u=Object(b.a)(i,2),d=u[0],j=u[1],O=Object(r.useState)(!1),m=Object(b.a)(O,2),p=(m[0],m[1],Object(r.useState)([])),h=Object(b.a)(p,2),g=h[0],f=h[1],v=Object(r.useState)(!1),x=Object(b.a)(v,2),y=x[0],w=x[1],I=Object(l.d)((function(e){return e.currentUser})),S=Object(l.d)((function(e){return e.login.isLoggedIn})),N=Object(l.d)((function(e){return e.currentModal})),E=Object(l.c)(),C=Object(l.d)((function(e){return e.posts.allIds})),T=Object(l.d)((function(e){return e.posts.byId})),_=C.map((function(e){return T[e]})),k=function(){var e=Object(ce.a)(ne.a.mark((function e(n){var c,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(n.target.value),t=n.target.value,e.next=4,t.trimStart();case 4:return c=e.sent,e.next=7,_.filter((function(e){return new RegExp("^"+c,"gi").test(e.title)}));case 7:a=e.sent,f(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){w(!y)},P=function(){y&&w(!1)};return Object(r.useEffect)((function(){return document.title="Readit",document.body.addEventListener("click",P),function(){document.body.removeEventListener("click",P)}}),[P]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"navbar-wrapper",children:Object(c.jsx)("div",{className:"navbar-container",children:Object(c.jsxs)("div",{className:"navbar-content",children:[Object(c.jsx)("li",{children:Object(c.jsx)(ie.a,{to:{pathname:"/"},replace:"/"===e.history.location.pathname,onClick:function(){document.body.style.overflow="",N.post.newPost,"/"===e.match.path&&E($())},className:"logo",children:"readit"})}),Object(c.jsxs)("div",{className:"search-bar-container",children:[Object(c.jsx)("input",{onClick:L,onChange:function(e){return k(e)},className:"search-bar",placeholder:"Search",type:"text"}),Object(c.jsx)("span",{className:"search-icon",children:Object(c.jsx)("img",{src:Ce,alt:""})}),Object(c.jsx)("div",{onClick:function(e){return L()},className:"search-dropdown-container",children:/^\s+(?=[a-z0-9])|^[a-z0-9]/g.test(d)?g.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[" ",Object(c.jsx)("div",{className:"search-dropdown-content ".concat(y?null:"hide-search"," "),children:Object(c.jsx)(ie.a,{className:"search-content-item",to:"/post/".concat(e._id),children:e.title})},e._id)]})})):null})]}),localStorage.getItem("accessToken")||S?Object(c.jsxs)("div",{className:"profile-wrapper",children:[Object(c.jsxs)("button",{onClick:function(){o(!s)},className:"navbar-profile-container",children:[Object(c.jsxs)("div",{className:"navbar-logo-text",children:[Object(c.jsx)("img",{className:"default-profile-image",style:{backgroundColor:"rgba(0, 0, 0, 0.1)"},src:de,alt:""}),Object(c.jsx)("p",{className:"navbar-profile-username",children:I.username})]}),Object(c.jsx)("img",{className:"navbar-profile-triangle",src:Te,alt:""})]}),s?Object(c.jsx)("div",{className:"navbar-dropdown-container",children:Object(c.jsxs)("ul",{className:"navbar-dropdown",children:[Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){E(re()).then((function(e){200===e.status&&window.location.reload()}))},className:"navbar-dropdown-options",children:"Logout"})}),Object(c.jsx)("li",{}),Object(c.jsx)("li",{})]})}):null]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"auth-button-container-navbar",children:[Object(c.jsx)("button",{onClick:e.handleShowLogin,children:"log in"}),Object(c.jsx)("button",{onClick:e.handleShowSignup,children:"sign up"})]}),Object(c.jsx)("div",{className:"hamburger-container",children:Object(c.jsxs)("div",{className:"hamburger-button-container",children:[Object(c.jsx)("input",{type:"checkbox",id:"trigger",className:"burger-input"}),Object(c.jsx)("label",{htmlFor:"trigger",className:"burger-label",children:Object(c.jsx)("div",{className:"main-trigger-icon-container",children:Object(c.jsx)("span",{className:"main-trigger-icon"})})}),Object(c.jsxs)("div",{className:"hamburger-item-container",children:[Object(c.jsxs)("li",{className:"hamburger-item",children:[" ",Object(c.jsx)("button",{className:"hamburger-item-button",onClick:e.handleShowLogin,children:"log in"})]}),Object(c.jsx)("li",{className:"hamburger-item",children:Object(c.jsx)("button",{className:"hamburger-item-button",onClick:e.handleShowSignup,children:"sign up"})})]})]})})]})]})})}),Object(c.jsx)("div",{})]})})),ke=function(){var e=new URLSearchParams(Object(u.h)().search),t=e.get("media"),n=e.get("link"),a=Object(l.d)((function(e){return e.changeNewSubmissionType.submissionType})),s=Object(u.g)(),o=Object(l.c)(),i=Object(r.useState)(""),d=Object(b.a)(i,2),j=d[0],O=d[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),h=p[0],g=p[1],f=Object(r.useState)(""),v=Object(b.a)(f,2),x=v[0],y=v[1],w=Object(l.d)((function(e){return e.posts.submitted})),I=Object(l.d)((function(e){return e.posts.reRouteId}));Object(r.useEffect)((function(){t?a="media":n&&(a="link"),w&&s.push("/post/".concat(I))}),[w]);return Object(c.jsx)("div",{className:"newpost-wrapper",children:Object(c.jsxs)("div",{className:"newpost-container",children:[Object(c.jsx)("p",{className:"newpost-title",children:"Create a post"}),Object(c.jsxs)("div",{className:"newpost-template",children:[Object(c.jsxs)("div",{className:"newpost-options",children:[Object(c.jsx)("button",{className:"post"===a?"submit-type-button ".concat("selectedType"):"submit-type-button",onClick:function(){window.history.replaceState("page2","Title","/new-post"),o(X("post"))},children:"Post"}),Object(c.jsxs)("button",{className:"media"===a?"submit-type-button ".concat("selectedType"):"submit-type-button",onClick:function(){o(X("media")),window.history.replaceState("page2","Title","/new-post")},children:["Images ","&"," Video"]}),Object(c.jsx)("button",{className:"link"===a?"submit-type-button ".concat("selectedType"):"submit-type-button",onClick:function(){o(X("link")),window.history.replaceState("page2","Title","/new-post")},children:"Link"})]}),Object(c.jsxs)("form",{action:"",children:[Object(c.jsx)("div",{className:"newpost-title-container",children:Object(c.jsx)("input",{onChange:function(e){O(e.target.value)},placeholder:"Title",className:"newpost-title",type:"text"})}),Object(c.jsxs)("div",{className:"newpost-entry-container",children:["media"===a?Object(c.jsx)("div",{className:"upload-input-container",children:Object(c.jsx)("input",{onChange:function(e){y(e.target.files[0])},className:"upload-input",type:"file",name:"",id:"file-input"})}):Object(c.jsx)("textarea",{onChange:function(e){g(e.target.value)},placeholder:"Text(optional)",className:"newpost-entry",name:"",id:"",cols:"30",rows:"10"}),Object(c.jsx)("div",{className:"submission-button-container",children:Object(c.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault();var t=new FormData;t.append("title",j),t.append("content",h),t.append("file",x),o(q(t))}(e)},className:"submission-buttons",children:"Post"})})]})]})]})]})})};function Le(e,t){return function(n,c){return n({type:"NEW_COMMENT_REQUEST"}),O()({url:"/api/comment/new",method:"POST",data:{content:e,postId:t},withCredentials:!0}).then((function(e){n(function(e,t,n){return function(c,a){c({type:k,savedComment:e,postId:t,parentId:n})}}(e.data,t))}))}}function Pe(e,t,n){return function(c,a){var r=n,s=a().comments.byId[r].voteState;c({type:R,point:e,commentId:n,currentVoteState:s}),1===e?O()({url:"/api/comment/vote-up",method:"PUT",data:{postId:t,commentId:n},withCredentials:!0}):-1===e&&O()({url:"/api/comment/vote-down",method:"PUT",data:{postId:t,commentId:n},withCredentials:!0})}}var Re=n.p+"static/media/down-arrow.c9c98d5d.svg";function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ge=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z"}))),ze=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z"}))),Ae=r.createElement("g",null),Fe=r.createElement("g",null),Me=r.createElement("g",null),Ve=r.createElement("g",null),We=r.createElement("g",null),Be=r.createElement("g",null),Qe=r.createElement("g",null),He=r.createElement("g",null),Ye=r.createElement("g",null),Je=r.createElement("g",null),Xe=r.createElement("g",null),Ze=r.createElement("g",null),qe=r.createElement("g",null),Ke=r.createElement("g",null),$e=r.createElement("g",null);function et(e,t){var n=e.title,c=e.titleId,a=De(e,["title","titleId"]);return r.createElement("svg",Ue({viewBox:"0 0 477.873 477.873",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,Ge,ze,Ae,Fe,Me,Ve,We,Be,Qe,He,Ye,Je,Xe,Ze,qe,Ke,$e)}var tt=r.forwardRef(et),nt=(n.p,n.p+"static/media/up-arrow.927fb299.svg"),ct=function e(t){var n=t.comment,a=t.handleShowLogin,s=Object(l.d)((function(e){return e.comments.byId})),o=Object(l.d)((function(e){return e.login.isLoggedIn})),i=Object(l.c)(),d=Object(u.i)(),j=Object(r.useState)(""),m=Object(b.a)(j,2),p=m[0],h=m[1],g=Object(r.useState)(!1),f=Object(b.a)(g,2),v=f[0],x=f[1];if(Object(r.useEffect)((function(){}),[]),!n)return Object(c.jsx)("div",{});var y=(n.comments||[]).map((function(t){return Object(c.jsx)(e,{comment:s[t]},t)}));return Object(c.jsxs)("div",{style:{marginLeft:"15px",marginTop:"10px"},children:[Object(c.jsxs)("div",{className:"comment-vote-title-container",children:[Object(c.jsx)("div",{className:"comment-vote-container",children:Object(c.jsxs)("div",{className:"comment-vote-button-container",children:[Object(c.jsx)("img",{className:1===n.voteState?"comment-vote-button-color":"comment-vote-button",src:nt,onClick:function(){o?i(Pe(1,d.id,n._id)):a()},alt:""}),Object(c.jsx)("span",{children:n.voteTotal}),Object(c.jsx)("img",{className:-1===n.voteState?"comment-vote-button-color":"comment-vote-button",src:Re,onClick:function(){o?i(Pe(-1,d.id,n._id)):a()}})]})}),Object(c.jsxs)("div",{className:"comment-container",children:[Object(c.jsx)("p",{className:"comment-author",children:n.authorName}),Object(c.jsx)("div",{className:"parent-comment",children:n.content}),Object(c.jsxs)("div",{className:"reply-button-container",children:[o?Object(c.jsx)("button",{onClick:function(){x(!v),i({type:L,test:{}})},className:"reply-button",children:"Reply"}):null,v?Object(c.jsxs)("div",{className:"new-comment-container",children:[Object(c.jsx)("textarea",{value:p,onChange:function(e){h(e.target.value)},placeholder:"What are your thoughts?",className:"new-comment reply-textarea",rows:"6"}),Object(c.jsx)("div",{className:"submit-comment-container",children:Object(c.jsx)("button",{onClick:function(){var e=n._id;i(function(e,t,n){return function(c,a){return O()({url:"/api/comments/".concat(n,"/replies"),method:"POST",data:{content:e,postId:t},withCredentials:!0}).then((function(e){c({type:P,reply:e.data,postId:t,commentId:n})}))}}(p,d.id,e)),x(!1),h("")},className:"submit-comment-button",children:"Reply"})})]}):null]})]})]}),Object(c.jsx)("div",{className:"nested-comments",children:y})]})};var at=Object(l.b)((function(e,t){var n=t.match.params.id;return{post:e.posts.byId[n]}}))((function(e){var t=Object(u.i)(),n=Object(l.c)(),a=Object(u.g)(),s=Object(r.useState)(""),o=Object(b.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(!1),m=Object(b.a)(j,2),p=m[0],h=m[1],g=Object(r.useState)(""),f=Object(b.a)(g,2),v=f[0],x=f[1],y=Object(l.d)((function(e){return e.currentUser._id})),w=Object(l.d)((function(e){return e.comments.byId})),I=Object(l.d)((function(e){return e.login.isLoggedIn})),S=e.post,N=function(){a.push("/")},E=function(e){var t,c;n((t=e,c=v,function(e){return e({type:z,postId:t,content:c}),O()({url:"/api/edit/".concat(t),method:"PUT",withCredentials:!0,data:{content:c}})})),h(!1)};if(!S)return Object(c.jsx)("div",{});var C=new Date(S.createdAt),T=new Intl.DateTimeFormat("en-US",{}).format(C);return Object(c.jsxs)("div",{onClick:N,className:"modal-wrapper",children:[Object(c.jsx)("input",{type:"checkbox",id:"trigger",className:"burger-input"}),Object(c.jsx)("label",{htmlFor:"trigger",className:"close-label",children:Object(c.jsx)("div",{onClick:N,className:"main-close-icon-container",children:Object(c.jsx)("span",{className:"main-close-icon"})})}),Object(c.jsx)("div",{onClick:function(e){e.stopPropagation()},className:"card-modal",children:S.author?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{className:"card-modal-author",children:[" ","u/",S.author.username]}),Object(c.jsx)("p",{children:T}),Object(c.jsx)("h4",{className:"card-modal-title",children:S.title}),y===S.author._id?Object(c.jsxs)("div",{className:"edit-container",children:[Object(c.jsx)("p",{className:"card-modal-content ".concat(p?"inactive":null," "),children:S.content}),Object(c.jsx)("textarea",{onChange:function(e){x(e.target.value)},className:p?"edit-text-area":"inactive",value:v}),Object(c.jsxs)("div",{className:p?"edit-button-container":"inactive",children:[Object(c.jsx)("button",{onClick:function(){return E(S._id)},className:"edit-submit-button",children:"Save"}),Object(c.jsx)("button",{onClick:function(){h(!1)},className:"edit-cancel-button",children:"Cancel"})]}),Object(c.jsx)("button",{className:"edit-button ".concat(p?"inactive":null),onClick:function(){h(!0)},children:Object(c.jsx)(tt,{})})]}):null,Object(c.jsx)("div",{className:"post-image-container",children:Object(c.jsx)("img",{className:"post-image",src:e.post.image,alt:""})}),y?Object(c.jsxs)("div",{className:"new-comment-container",children:[Object(c.jsx)("textarea",{className:"new-comment",name:"",id:"",placeholder:"What are your thoughts?",rows:"6",value:i,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("span",{className:"submit-comment-container",children:Object(c.jsx)("button",{onClick:function(){n(Le(i,e.post._id)),d("")},className:"submit-comment-button",children:"Comment"})})]}):Object(c.jsxs)("div",{className:"no-user-comment-container",children:[Object(c.jsx)("p",{className:"no-user-comment",children:"Log in or sign up to leave a comment"}),Object(c.jsxs)("div",{className:"auth-button-container",children:[Object(c.jsx)("button",{onClick:e.handleShowLogin,children:"log in"}),Object(c.jsx)("button",{onClick:e.handleShowSignup,children:"sign up"})]})]}),Object(c.jsxs)("div",{className:"card-modal-vote-container",children:[Object(c.jsx)("li",{onClick:function(){I?n(Z(1,t.id)):e.handleShowLogin()},children:Object(c.jsx)("img",{className:1===S.voteState?"vote-button-color":"vote-button",src:nt,alt:""})}),Object(c.jsx)("li",{children:S.voteTotal}),Object(c.jsx)("li",{onClick:function(){I?n(Z(-1,t.id)):e.handleShowLogin()},children:Object(c.jsx)("img",{className:-1===S.voteState?"vote-button-color":"vote-button",src:Re,alt:""})})]}),Object(c.jsx)("h4",{className:"comment-section-header",children:"Comments"}),e.post.comments.length>0&&e.post.comments.map((function(t){return Object(c.jsx)(ct,{handleShowLogin:e.handleShowLogin,comment:w[t]},t)}))]}):null})]})}));n(78);var rt=Object(l.b)((function(e,t){return{loggedIn:e.login.isLoggedIn}}))((function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(b.a)(o,2),j=i[0],m=i[1],p=Object(l.d)((function(e){return e.login.isLoggedIn})),h=Object(l.d)((function(e){return e.signup.isSignedUp})),g=Object(l.c)();Object(r.useEffect)((function(){g(function(){var e=localStorage.getItem("accessToken");return function(){var t=Object(ce.a)(ne.a.mark((function t(n){var c;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n({type:Y}),t.next=5,O()({withCredentials:!0,method:"GET",url:"/api/logged-in"});case 5:c=t.sent;try{n({type:E,username:c.data.username,user:c.data._id})}catch(a){n(re())}case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}())}),[g]),Object(r.useEffect)((function(){p&&s(!1),h&&!p&&(m(!1),s(!0))}),[p,h]);var f=function(){s(!a)},v=function(){m(!j)},x=function(){g({type:H}),s(!1),m(!1)},y=function(e,t){g(ee(e,t))};return Object(c.jsxs)("div",{id:"scroll-wrapper",className:"app-wrapper",children:[a?Object(c.jsx)(Se,{close:x}):null,j?Object(c.jsx)(Ne,{close:x}):null,Object(c.jsx)(_e,{handleShowLogin:f,handleShowSignup:v}),Object(c.jsx)(u.b,{exact:!0,path:"/post/:id",render:function(e){return Object(c.jsx)(at,Object(d.a)({handleShowLogin:f,handleShowSignup:v},e))}}),Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/new-post",render:function(e){return Object(c.jsx)(ke,Object(d.a)({},e))},children:p?null:Object(c.jsx)(u.a,{to:"/"})}),Object(c.jsx)(u.b,{path:["/:sort","/"],render:function(t){return Object(c.jsx)(Ee,Object(d.a)(Object(d.a)({handleShowLogin:f,handleShowSignup:v,handleShowNextPage:y},t),{},{test:e.posts}))},showLogin:a,showSignup:j})]})]})})),st=n(19),ot=n(43),it=n(44),lt=n(6),ut=n(15);function dt(e,t){var n=e.concat(t),c=new Set(n);return Object(ut.a)(c)}function bt(e,t){return Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},t.postId,Object(d.a)(Object(d.a)({},e.byId[t.postId]),{},{comments:[].concat(Object(ut.a)(e.byId[t.postId].comments),[t.savedComment._id])})))})}function jt(e,t){var n=t.postId,c=t.point,a=t.currentVoteState,r=e.byId[n];return t.commentId?e:1===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:0,voteTotal:e.byId[n].voteTotal-1})))}):0===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:1,voteTotal:e.byId[n].voteTotal+1})))}):1===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:-1,voteTotal:e.byId[n].voteTotal-2})))}):0===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:-1,voteTotal:e.byId[n].voteTotal-1})))}):-1===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:0,voteTotal:e.byId[n].voteTotal+1})))}):-1===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:1,voteTotal:e.byId[n].voteTotal+2})))}):void 0}function Ot(e,t){var n=t.post,c=t.id;return Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},c,n)),allIds:[].concat(Object(ut.a)(e.allIds),[c]),submitting:!1,createdPosts:Object(d.a)(Object(d.a)({},e.createdPosts),{},Object(lt.a)({},c,n)),submitted:!0,reRouteId:c})}function mt(e,t){var n=t.postId,c=t.content,a=e.byId[n];return Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},a),{},{content:c})))})}function pt(e,t){var n=e.allIds,c=t.normalizedData.result,a=new Set(c.concat(n));return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,byId:Object(d.a)(Object(d.a)({},e.byId),t.normalizedData.entities.posts),status:"succeeded",allIds:Object(ut.a)(a)})}function ht(e,t){var n=e.allIds,c=t.normalizedData.result,a=new Set(n.concat(c));return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,byId:Object(d.a)(Object(d.a)({},e.byId),t.normalizedData.entities.posts),offset:t.offset,status:"succeeded",allIds:Object(ut.a)(a)})}function gt(e,t,n){return Object(d.a)(Object(d.a)({},e),{},{status:"completed",sortOrder:t.sort,listingOrder:Object(d.a)(Object(d.a)({},e.listingOrder),{},Object(lt.a)({},t.sort,dt(e.listingOrder[t.sort]?e.listingOrder[t.sort]:[],t.normalizedData.result)))})}function ft(e,t){var n=e.allIds,c=t.normalizedData.result,a=new Set(n.concat(c));return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,byId:Object(d.a)(Object(d.a)({},e.byId),t.normalizedData.entities.posts),offset:t.offset,status:"completed",allIds:Object(ut.a)(a)})}function vt(e,t){var n=t.post;return Object(d.a)(Object(d.a)({},e),{},{post:n})}function xt(e,t){var n=t.savedComment;return Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},t.savedComment._id,Object(d.a)(Object(d.a)({},e.byId[n._id]),t.savedComment)))})}function yt(e,t){if(!t.commentId)return e;var n=t.commentId,c=t.point,a=t.currentVoteState,r=e.byId[n];return 1===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:0,voteTotal:e.byId[n].voteTotal-1})))}):0===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:1,voteTotal:e.byId[n].voteTotal+1})))}):1===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:-1,voteTotal:e.byId[n].voteTotal-2})))}):0===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:-1,voteTotal:e.byId[n].voteTotal-1})))}):-1===a&&-1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:0,voteTotal:e.byId[n].voteTotal+1})))}):-1===a&&1===c?Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},Object(lt.a)({},n,Object(d.a)(Object(d.a)({},r),{},{voteState:1,voteTotal:e.byId[n].voteTotal+2})))}):void 0}var wt=function(e,t){var n;return Object(d.a)(Object(d.a)({},e),{},{byId:Object(d.a)(Object(d.a)({},e.byId),{},(n={},Object(lt.a)(n,t.commentId,Object(d.a)(Object(d.a)({},e.byId[t.commentId]),{},{comments:[].concat(Object(ut.a)(e.byId[t.commentId].comments),[t.reply._id])})),Object(lt.a)(n,t.reply._id,t.reply),n))})};var It=Object(st.combineReducers)({comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byId:{},allId:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case f:return Object.assign({},e,{byId:Object(d.a)(Object(d.a)({},e.byId),t.normalizedData.entities.comments)});case P:return wt(e,t);case R:return yt(e,t);case k:return xt(e,t);case L:return Object.assign({},e,{});default:return e}},currentModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return vt(e,t);case T:return Object.assign({},e,{post:t.post});default:return e}},changeNewSubmissionType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{submissionType:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object.assign({},e,{submissionType:t.postType});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,byId:{},allIds:[],offset:null,submitted:!1,err:null,createdPosts:{},submitting:!1,reRouteId:null,status:"idle",firstId:"",lastId:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object.assign({},e,{status:"idle",offset:t.offset});case D:return pt(e,t);case U:return ht(e,t);case g:return Object.assign({},e,{isFetching:!0,status:"loading"});case V:return Object.assign({},e,{byId:t.newObj,allIds:t.splicedArray,createdPosts:{}});case v:case f:return ft(e,t);case R:return jt(e,t);case G:var n=e.allIds,c=n.filter((function(e){return e!==t.postId}));return Object.assign({},e,{allIds:c});case k:return bt(e,t);case _:return Object.assign({},e,{submitted:!1,submitting:!0,reRouteId:""});case z:return mt(e,t);case T:return Ot(e,t);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggingIn:!1,isLoggedIn:!1,err:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object.assign({},e,{isLoggedIn:!0});case B:return Object.assign({},e,{err:"Username or Password do not match"});case H:return Object.assign({},e,{err:null});case x:return Object.assign({},e,{isLoggingIn:!0,isLoggedIn:!1});case y:return Object.assign({},e,{isLoggingIn:!1,isLoggedIn:!0});case A:case w:return Object.assign({},e,{isLoggingIn:!1,isLoggedIn:!1});default:return e}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSigningUp:!1,isSignedUp:!1,err:null,passwordError:null},t=arguments.length>1?arguments[1]:void 0,n=t.passwordError;switch(t.type){case I:return Object.assign({},e,{err:null,passwordError:null});case S:return Object.assign({},e,{isSignedUp:!0,isSigningUp:!1,err:null,passwordError:null});case F:return Object.assign({},e,{err:null});case N:return Object.assign({},e,{err:t.error,passwordError:n});default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",_id:"",err:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object.assign({},e,{username:null,_id:null});case W:return Object.assign({},e,{username:t.userInfo.username,_id:t.userInfo._id});case y:return Object.assign({},e,{username:t.username,_id:t.id});case E:return Object.assign({},e,{isLoggedIn:!0,username:t.username,_id:t.user});default:return e}},listings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sortOrder:"default",listingOrder:{},status:"idle"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return gt(e,t);case g:return t.e?Object.assign({},e,{status:"loading"}):e;case G:var n=e.listingOrder[e.sortOrder].filter((function(e){return e!==t.postId}));return Object(d.a)(Object(d.a)({},e),{},{listingOrder:Object(d.a)(Object(d.a)({},e.listingOrder),{},Object(lt.a)({},e.sortOrder,Object(ut.a)(n)))});case D:case U:case f:return gt(e,t);default:return e}}});var St=function(e){var t=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),n=Object(ot.composeWithDevTools)({trace:!0});return Object(st.createStore)(It,t,n(Object(st.applyMiddleware)(it.a)))}(),Nt=Object(a.a)();i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(l.a,{store:St,children:Object(c.jsx)(u.c,{history:Nt,children:Object(c.jsx)(u.b,{component:rt})})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c1041920.chunk.js.map